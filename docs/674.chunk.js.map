{"version":3,"file":"674.chunk.js","mappings":"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","sources":["webpack://san-juke-box/./node_modules/gsap/dist/MotionPathPlugin.js","webpack://san-juke-box/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://san-juke-box/./node_modules/three-stdlib/controls/OrbitControls.js","webpack://san-juke-box/./node_modules/three-stdlib/effects/OutlineEffect.js","webpack://san-juke-box/./node_modules/three-stdlib/loaders/GLTFLoader.js","webpack://san-juke-box/./node_modules/konva/lib/shapes/Text.js"],"sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(global = global || self, factory(global.window = global.window || {}));\n}(this, (function (exports) { 'use strict';\n\n\tvar _svgPathExp = /[achlmqstvz]|(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[0-9]/ig,\n\t    _numbersExp = /(?:(-)?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[0-9]/ig,\n\t    _scientific = /[\\+\\-]?\\d*\\.?\\d+e[\\+\\-]?\\d+/ig,\n\t    _selectorExp = /(^[#\\.][a-z]|[a-y][a-z])/i,\n\t    _DEG2RAD = Math.PI / 180,\n\t    _RAD2DEG = 180 / Math.PI,\n\t    _sin = Math.sin,\n\t    _cos = Math.cos,\n\t    _abs = Math.abs,\n\t    _sqrt = Math.sqrt,\n\t    _atan2 = Math.atan2,\n\t    _largeNum = 1e8,\n\t    _isString = function _isString(value) {\n\t  return typeof value === \"string\";\n\t},\n\t    _isNumber = function _isNumber(value) {\n\t  return typeof value === \"number\";\n\t},\n\t    _isUndefined = function _isUndefined(value) {\n\t  return typeof value === \"undefined\";\n\t},\n\t    _temp = {},\n\t    _temp2 = {},\n\t    _roundingNum = 1e5,\n\t    _wrapProgress = function _wrapProgress(progress) {\n\t  return Math.round((progress + _largeNum) % 1 * _roundingNum) / _roundingNum || (progress < 0 ? 0 : 1);\n\t},\n\t    _round = function _round(value) {\n\t  return Math.round(value * _roundingNum) / _roundingNum || 0;\n\t},\n\t    _roundPrecise = function _roundPrecise(value) {\n\t  return Math.round(value * 1e10) / 1e10 || 0;\n\t},\n\t    _splitSegment = function _splitSegment(rawPath, segIndex, i, t) {\n\t  var segment = rawPath[segIndex],\n\t      shift = t === 1 ? 6 : subdivideSegment(segment, i, t);\n\n\t  if (shift && shift + i + 2 < segment.length) {\n\t    rawPath.splice(segIndex, 0, segment.slice(0, i + shift + 2));\n\t    segment.splice(0, i + shift);\n\t    return 1;\n\t  }\n\t},\n\t    _getSampleIndex = function _getSampleIndex(samples, length, progress) {\n\t  var l = samples.length,\n\t      i = ~~(progress * l);\n\n\t  if (samples[i] > length) {\n\t    while (--i && samples[i] > length) {}\n\t  } else {\n\t    while (samples[++i] < length && i < l) {}\n\t  }\n\n\t  return i;\n\t},\n\t    _reverseRawPath = function _reverseRawPath(rawPath, skipOuter) {\n\t  var i = rawPath.length;\n\t  skipOuter || rawPath.reverse();\n\n\t  while (i--) {\n\t    rawPath[i].reversed || reverseSegment(rawPath[i]);\n\t  }\n\t},\n\t    _copyMetaData = function _copyMetaData(source, copy) {\n\t  copy.totalLength = source.totalLength;\n\n\t  if (source.samples) {\n\t    copy.samples = source.samples.slice(0);\n\t    copy.lookup = source.lookup.slice(0);\n\t    copy.minLength = source.minLength;\n\t    copy.resolution = source.resolution;\n\t  } else if (source.totalPoints) {\n\t    copy.totalPoints = source.totalPoints;\n\t  }\n\n\t  return copy;\n\t},\n\t    _appendOrMerge = function _appendOrMerge(rawPath, segment) {\n\t  var index = rawPath.length,\n\t      prevSeg = rawPath[index - 1] || [],\n\t      l = prevSeg.length;\n\n\t  if (index && segment[0] === prevSeg[l - 2] && segment[1] === prevSeg[l - 1]) {\n\t    segment = prevSeg.concat(segment.slice(2));\n\t    index--;\n\t  }\n\n\t  rawPath[index] = segment;\n\t};\n\n\tfunction getRawPath(value) {\n\t  value = _isString(value) && _selectorExp.test(value) ? document.querySelector(value) || value : value;\n\t  var e = value.getAttribute ? value : 0,\n\t      rawPath;\n\n\t  if (e && (value = value.getAttribute(\"d\"))) {\n\t    if (!e._gsPath) {\n\t      e._gsPath = {};\n\t    }\n\n\t    rawPath = e._gsPath[value];\n\t    return rawPath && !rawPath._dirty ? rawPath : e._gsPath[value] = stringToRawPath(value);\n\t  }\n\n\t  return !value ? console.warn(\"Expecting a <path> element or an SVG path data string\") : _isString(value) ? stringToRawPath(value) : _isNumber(value[0]) ? [value] : value;\n\t}\n\tfunction copyRawPath(rawPath) {\n\t  var a = [],\n\t      i = 0;\n\n\t  for (; i < rawPath.length; i++) {\n\t    a[i] = _copyMetaData(rawPath[i], rawPath[i].slice(0));\n\t  }\n\n\t  return _copyMetaData(rawPath, a);\n\t}\n\tfunction reverseSegment(segment) {\n\t  var i = 0,\n\t      y;\n\t  segment.reverse();\n\n\t  for (; i < segment.length; i += 2) {\n\t    y = segment[i];\n\t    segment[i] = segment[i + 1];\n\t    segment[i + 1] = y;\n\t  }\n\n\t  segment.reversed = !segment.reversed;\n\t}\n\n\tvar _createPath = function _createPath(e, ignore) {\n\t  var path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\"),\n\t      attr = [].slice.call(e.attributes),\n\t      i = attr.length,\n\t      name;\n\t  ignore = \",\" + ignore + \",\";\n\n\t  while (--i > -1) {\n\t    name = attr[i].nodeName.toLowerCase();\n\n\t    if (ignore.indexOf(\",\" + name + \",\") < 0) {\n\t      path.setAttributeNS(null, name, attr[i].nodeValue);\n\t    }\n\t  }\n\n\t  return path;\n\t},\n\t    _typeAttrs = {\n\t  rect: \"rx,ry,x,y,width,height\",\n\t  circle: \"r,cx,cy\",\n\t  ellipse: \"rx,ry,cx,cy\",\n\t  line: \"x1,x2,y1,y2\"\n\t},\n\t    _attrToObj = function _attrToObj(e, attrs) {\n\t  var props = attrs ? attrs.split(\",\") : [],\n\t      obj = {},\n\t      i = props.length;\n\n\t  while (--i > -1) {\n\t    obj[props[i]] = +e.getAttribute(props[i]) || 0;\n\t  }\n\n\t  return obj;\n\t};\n\n\tfunction convertToPath(element, swap) {\n\t  var type = element.tagName.toLowerCase(),\n\t      circ = 0.552284749831,\n\t      data,\n\t      x,\n\t      y,\n\t      r,\n\t      ry,\n\t      path,\n\t      rcirc,\n\t      rycirc,\n\t      points,\n\t      w,\n\t      h,\n\t      x2,\n\t      x3,\n\t      x4,\n\t      x5,\n\t      x6,\n\t      y2,\n\t      y3,\n\t      y4,\n\t      y5,\n\t      y6,\n\t      attr;\n\n\t  if (type === \"path\" || !element.getBBox) {\n\t    return element;\n\t  }\n\n\t  path = _createPath(element, \"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points\");\n\t  attr = _attrToObj(element, _typeAttrs[type]);\n\n\t  if (type === \"rect\") {\n\t    r = attr.rx;\n\t    ry = attr.ry || r;\n\t    x = attr.x;\n\t    y = attr.y;\n\t    w = attr.width - r * 2;\n\t    h = attr.height - ry * 2;\n\n\t    if (r || ry) {\n\t      x2 = x + r * (1 - circ);\n\t      x3 = x + r;\n\t      x4 = x3 + w;\n\t      x5 = x4 + r * circ;\n\t      x6 = x4 + r;\n\t      y2 = y + ry * (1 - circ);\n\t      y3 = y + ry;\n\t      y4 = y3 + h;\n\t      y5 = y4 + ry * circ;\n\t      y6 = y4 + ry;\n\t      data = \"M\" + x6 + \",\" + y3 + \" V\" + y4 + \" C\" + [x6, y5, x5, y6, x4, y6, x4 - (x4 - x3) / 3, y6, x3 + (x4 - x3) / 3, y6, x3, y6, x2, y6, x, y5, x, y4, x, y4 - (y4 - y3) / 3, x, y3 + (y4 - y3) / 3, x, y3, x, y2, x2, y, x3, y, x3 + (x4 - x3) / 3, y, x4 - (x4 - x3) / 3, y, x4, y, x5, y, x6, y2, x6, y3].join(\",\") + \"z\";\n\t    } else {\n\t      data = \"M\" + (x + w) + \",\" + y + \" v\" + h + \" h\" + -w + \" v\" + -h + \" h\" + w + \"z\";\n\t    }\n\t  } else if (type === \"circle\" || type === \"ellipse\") {\n\t    if (type === \"circle\") {\n\t      r = ry = attr.r;\n\t      rycirc = r * circ;\n\t    } else {\n\t      r = attr.rx;\n\t      ry = attr.ry;\n\t      rycirc = ry * circ;\n\t    }\n\n\t    x = attr.cx;\n\t    y = attr.cy;\n\t    rcirc = r * circ;\n\t    data = \"M\" + (x + r) + \",\" + y + \" C\" + [x + r, y + rycirc, x + rcirc, y + ry, x, y + ry, x - rcirc, y + ry, x - r, y + rycirc, x - r, y, x - r, y - rycirc, x - rcirc, y - ry, x, y - ry, x + rcirc, y - ry, x + r, y - rycirc, x + r, y].join(\",\") + \"z\";\n\t  } else if (type === \"line\") {\n\t    data = \"M\" + attr.x1 + \",\" + attr.y1 + \" L\" + attr.x2 + \",\" + attr.y2;\n\t  } else if (type === \"polyline\" || type === \"polygon\") {\n\t    points = (element.getAttribute(\"points\") + \"\").match(_numbersExp) || [];\n\t    x = points.shift();\n\t    y = points.shift();\n\t    data = \"M\" + x + \",\" + y + \" L\" + points.join(\",\");\n\n\t    if (type === \"polygon\") {\n\t      data += \",\" + x + \",\" + y + \"z\";\n\t    }\n\t  }\n\n\t  path.setAttribute(\"d\", rawPathToString(path._gsRawPath = stringToRawPath(data)));\n\n\t  if (swap && element.parentNode) {\n\t    element.parentNode.insertBefore(path, element);\n\t    element.parentNode.removeChild(element);\n\t  }\n\n\t  return path;\n\t}\n\n\tfunction getRotationAtBezierT(segment, i, t) {\n\t  var a = segment[i],\n\t      b = segment[i + 2],\n\t      c = segment[i + 4],\n\t      x;\n\t  a += (b - a) * t;\n\t  b += (c - b) * t;\n\t  a += (b - a) * t;\n\t  x = b + (c + (segment[i + 6] - c) * t - b) * t - a;\n\t  a = segment[i + 1];\n\t  b = segment[i + 3];\n\t  c = segment[i + 5];\n\t  a += (b - a) * t;\n\t  b += (c - b) * t;\n\t  a += (b - a) * t;\n\t  return _round(_atan2(b + (c + (segment[i + 7] - c) * t - b) * t - a, x) * _RAD2DEG);\n\t}\n\n\tfunction sliceRawPath(rawPath, start, end) {\n\t  end = _isUndefined(end) ? 1 : _roundPrecise(end) || 0;\n\t  start = _roundPrecise(start) || 0;\n\t  var loops = Math.max(0, ~~(_abs(end - start) - 1e-8)),\n\t      path = copyRawPath(rawPath);\n\n\t  if (start > end) {\n\t    start = 1 - start;\n\t    end = 1 - end;\n\n\t    _reverseRawPath(path);\n\n\t    path.totalLength = 0;\n\t  }\n\n\t  if (start < 0 || end < 0) {\n\t    var offset = Math.abs(~~Math.min(start, end)) + 1;\n\t    start += offset;\n\t    end += offset;\n\t  }\n\n\t  path.totalLength || cacheRawPathMeasurements(path);\n\t  var wrap = end > 1,\n\t      s = getProgressData(path, start, _temp, true),\n\t      e = getProgressData(path, end, _temp2),\n\t      eSeg = e.segment,\n\t      sSeg = s.segment,\n\t      eSegIndex = e.segIndex,\n\t      sSegIndex = s.segIndex,\n\t      ei = e.i,\n\t      si = s.i,\n\t      sameSegment = sSegIndex === eSegIndex,\n\t      sameBezier = ei === si && sameSegment,\n\t      wrapsBehind,\n\t      sShift,\n\t      eShift,\n\t      i,\n\t      copy,\n\t      totalSegments,\n\t      l,\n\t      j;\n\n\t  if (wrap || loops) {\n\t    wrapsBehind = eSegIndex < sSegIndex || sameSegment && ei < si || sameBezier && e.t < s.t;\n\n\t    if (_splitSegment(path, sSegIndex, si, s.t)) {\n\t      sSegIndex++;\n\n\t      if (!wrapsBehind) {\n\t        eSegIndex++;\n\n\t        if (sameBezier) {\n\t          e.t = (e.t - s.t) / (1 - s.t);\n\t          ei = 0;\n\t        } else if (sameSegment) {\n\t          ei -= si;\n\t        }\n\t      }\n\t    }\n\n\t    if (1 - (end - start) < 1e-5) {\n\t      eSegIndex = sSegIndex - 1;\n\t    } else if (!e.t && eSegIndex) {\n\t      eSegIndex--;\n\t    } else if (_splitSegment(path, eSegIndex, ei, e.t) && wrapsBehind) {\n\t      sSegIndex++;\n\t    }\n\n\t    if (s.t === 1) {\n\t      sSegIndex = (sSegIndex + 1) % path.length;\n\t    }\n\n\t    copy = [];\n\t    totalSegments = path.length;\n\t    l = 1 + totalSegments * loops;\n\t    j = sSegIndex;\n\t    l += (totalSegments - sSegIndex + eSegIndex) % totalSegments;\n\n\t    for (i = 0; i < l; i++) {\n\t      _appendOrMerge(copy, path[j++ % totalSegments]);\n\t    }\n\n\t    path = copy;\n\t  } else {\n\t    eShift = e.t === 1 ? 6 : subdivideSegment(eSeg, ei, e.t);\n\n\t    if (start !== end) {\n\t      sShift = subdivideSegment(sSeg, si, sameBezier ? s.t / e.t : s.t);\n\t      sameSegment && (eShift += sShift);\n\t      eSeg.splice(ei + eShift + 2);\n\t      (sShift || si) && sSeg.splice(0, si + sShift);\n\t      i = path.length;\n\n\t      while (i--) {\n\t        (i < sSegIndex || i > eSegIndex) && path.splice(i, 1);\n\t      }\n\t    } else {\n\t      eSeg.angle = getRotationAtBezierT(eSeg, ei + eShift, 0);\n\t      ei += eShift;\n\t      s = eSeg[ei];\n\t      e = eSeg[ei + 1];\n\t      eSeg.length = eSeg.totalLength = 0;\n\t      eSeg.totalPoints = path.totalPoints = 8;\n\t      eSeg.push(s, e, s, e, s, e, s, e);\n\t    }\n\t  }\n\n\t  path.totalLength = 0;\n\t  return path;\n\t}\n\n\tfunction measureSegment(segment, startIndex, bezierQty) {\n\t  startIndex = startIndex || 0;\n\n\t  if (!segment.samples) {\n\t    segment.samples = [];\n\t    segment.lookup = [];\n\t  }\n\n\t  var resolution = ~~segment.resolution || 12,\n\t      inc = 1 / resolution,\n\t      endIndex = bezierQty ? startIndex + bezierQty * 6 + 1 : segment.length,\n\t      x1 = segment[startIndex],\n\t      y1 = segment[startIndex + 1],\n\t      samplesIndex = startIndex ? startIndex / 6 * resolution : 0,\n\t      samples = segment.samples,\n\t      lookup = segment.lookup,\n\t      min = (startIndex ? segment.minLength : _largeNum) || _largeNum,\n\t      prevLength = samples[samplesIndex + bezierQty * resolution - 1],\n\t      length = startIndex ? samples[samplesIndex - 1] : 0,\n\t      i,\n\t      j,\n\t      x4,\n\t      x3,\n\t      x2,\n\t      xd,\n\t      xd1,\n\t      y4,\n\t      y3,\n\t      y2,\n\t      yd,\n\t      yd1,\n\t      inv,\n\t      t,\n\t      lengthIndex,\n\t      l,\n\t      segLength;\n\t  samples.length = lookup.length = 0;\n\n\t  for (j = startIndex + 2; j < endIndex; j += 6) {\n\t    x4 = segment[j + 4] - x1;\n\t    x3 = segment[j + 2] - x1;\n\t    x2 = segment[j] - x1;\n\t    y4 = segment[j + 5] - y1;\n\t    y3 = segment[j + 3] - y1;\n\t    y2 = segment[j + 1] - y1;\n\t    xd = xd1 = yd = yd1 = 0;\n\n\t    if (_abs(x4) < .01 && _abs(y4) < .01 && _abs(x2) + _abs(y2) < .01) {\n\t      if (segment.length > 8) {\n\t        segment.splice(j, 6);\n\t        j -= 6;\n\t        endIndex -= 6;\n\t      }\n\t    } else {\n\t      for (i = 1; i <= resolution; i++) {\n\t        t = inc * i;\n\t        inv = 1 - t;\n\t        xd = xd1 - (xd1 = (t * t * x4 + 3 * inv * (t * x3 + inv * x2)) * t);\n\t        yd = yd1 - (yd1 = (t * t * y4 + 3 * inv * (t * y3 + inv * y2)) * t);\n\t        l = _sqrt(yd * yd + xd * xd);\n\n\t        if (l < min) {\n\t          min = l;\n\t        }\n\n\t        length += l;\n\t        samples[samplesIndex++] = length;\n\t      }\n\t    }\n\n\t    x1 += x4;\n\t    y1 += y4;\n\t  }\n\n\t  if (prevLength) {\n\t    prevLength -= length;\n\n\t    for (; samplesIndex < samples.length; samplesIndex++) {\n\t      samples[samplesIndex] += prevLength;\n\t    }\n\t  }\n\n\t  if (samples.length && min) {\n\t    segment.totalLength = segLength = samples[samples.length - 1] || 0;\n\t    segment.minLength = min;\n\n\t    if (segLength / min < 9999) {\n\t      l = lengthIndex = 0;\n\n\t      for (i = 0; i < segLength; i += min) {\n\t        lookup[l++] = samples[lengthIndex] < i ? ++lengthIndex : lengthIndex;\n\t      }\n\t    }\n\t  } else {\n\t    segment.totalLength = samples[0] = 0;\n\t  }\n\n\t  return startIndex ? length - samples[startIndex / 2 - 1] : length;\n\t}\n\n\tfunction cacheRawPathMeasurements(rawPath, resolution) {\n\t  var pathLength, points, i;\n\n\t  for (i = pathLength = points = 0; i < rawPath.length; i++) {\n\t    rawPath[i].resolution = ~~resolution || 12;\n\t    points += rawPath[i].length;\n\t    pathLength += measureSegment(rawPath[i]);\n\t  }\n\n\t  rawPath.totalPoints = points;\n\t  rawPath.totalLength = pathLength;\n\t  return rawPath;\n\t}\n\tfunction subdivideSegment(segment, i, t) {\n\t  if (t <= 0 || t >= 1) {\n\t    return 0;\n\t  }\n\n\t  var ax = segment[i],\n\t      ay = segment[i + 1],\n\t      cp1x = segment[i + 2],\n\t      cp1y = segment[i + 3],\n\t      cp2x = segment[i + 4],\n\t      cp2y = segment[i + 5],\n\t      bx = segment[i + 6],\n\t      by = segment[i + 7],\n\t      x1a = ax + (cp1x - ax) * t,\n\t      x2 = cp1x + (cp2x - cp1x) * t,\n\t      y1a = ay + (cp1y - ay) * t,\n\t      y2 = cp1y + (cp2y - cp1y) * t,\n\t      x1 = x1a + (x2 - x1a) * t,\n\t      y1 = y1a + (y2 - y1a) * t,\n\t      x2a = cp2x + (bx - cp2x) * t,\n\t      y2a = cp2y + (by - cp2y) * t;\n\t  x2 += (x2a - x2) * t;\n\t  y2 += (y2a - y2) * t;\n\t  segment.splice(i + 2, 4, _round(x1a), _round(y1a), _round(x1), _round(y1), _round(x1 + (x2 - x1) * t), _round(y1 + (y2 - y1) * t), _round(x2), _round(y2), _round(x2a), _round(y2a));\n\t  segment.samples && segment.samples.splice(i / 6 * segment.resolution | 0, 0, 0, 0, 0, 0, 0, 0);\n\t  return 6;\n\t}\n\n\tfunction getProgressData(rawPath, progress, decoratee, pushToNextIfAtEnd) {\n\t  decoratee = decoratee || {};\n\t  rawPath.totalLength || cacheRawPathMeasurements(rawPath);\n\n\t  if (progress < 0 || progress > 1) {\n\t    progress = _wrapProgress(progress);\n\t  }\n\n\t  var segIndex = 0,\n\t      segment = rawPath[0],\n\t      samples,\n\t      resolution,\n\t      length,\n\t      min,\n\t      max,\n\t      i,\n\t      t;\n\n\t  if (!progress) {\n\t    t = i = segIndex = 0;\n\t    segment = rawPath[0];\n\t  } else if (progress === 1) {\n\t    t = 1;\n\t    segIndex = rawPath.length - 1;\n\t    segment = rawPath[segIndex];\n\t    i = segment.length - 8;\n\t  } else {\n\t    if (rawPath.length > 1) {\n\t      length = rawPath.totalLength * progress;\n\t      max = i = 0;\n\n\t      while ((max += rawPath[i++].totalLength) < length) {\n\t        segIndex = i;\n\t      }\n\n\t      segment = rawPath[segIndex];\n\t      min = max - segment.totalLength;\n\t      progress = (length - min) / (max - min) || 0;\n\t    }\n\n\t    samples = segment.samples;\n\t    resolution = segment.resolution;\n\t    length = segment.totalLength * progress;\n\t    i = segment.lookup.length ? segment.lookup[~~(length / segment.minLength)] || 0 : _getSampleIndex(samples, length, progress);\n\t    min = i ? samples[i - 1] : 0;\n\t    max = samples[i];\n\n\t    if (max < length) {\n\t      min = max;\n\t      max = samples[++i];\n\t    }\n\n\t    t = 1 / resolution * ((length - min) / (max - min) + i % resolution);\n\t    i = ~~(i / resolution) * 6;\n\n\t    if (pushToNextIfAtEnd && t === 1) {\n\t      if (i + 6 < segment.length) {\n\t        i += 6;\n\t        t = 0;\n\t      } else if (segIndex + 1 < rawPath.length) {\n\t        i = t = 0;\n\t        segment = rawPath[++segIndex];\n\t      }\n\t    }\n\t  }\n\n\t  decoratee.t = t;\n\t  decoratee.i = i;\n\t  decoratee.path = rawPath;\n\t  decoratee.segment = segment;\n\t  decoratee.segIndex = segIndex;\n\t  return decoratee;\n\t}\n\n\tfunction getPositionOnPath(rawPath, progress, includeAngle, point) {\n\t  var segment = rawPath[0],\n\t      result = point || {},\n\t      samples,\n\t      resolution,\n\t      length,\n\t      min,\n\t      max,\n\t      i,\n\t      t,\n\t      a,\n\t      inv;\n\n\t  if (progress < 0 || progress > 1) {\n\t    progress = _wrapProgress(progress);\n\t  }\n\n\t  if (rawPath.length > 1) {\n\t    length = rawPath.totalLength * progress;\n\t    max = i = 0;\n\n\t    while ((max += rawPath[i++].totalLength) < length) {\n\t      segment = rawPath[i];\n\t    }\n\n\t    min = max - segment.totalLength;\n\t    progress = (length - min) / (max - min) || 0;\n\t  }\n\n\t  samples = segment.samples;\n\t  resolution = segment.resolution;\n\t  length = segment.totalLength * progress;\n\t  i = segment.lookup.length ? segment.lookup[progress < 1 ? ~~(length / segment.minLength) : segment.lookup.length - 1] || 0 : _getSampleIndex(samples, length, progress);\n\t  min = i ? samples[i - 1] : 0;\n\t  max = samples[i];\n\n\t  if (max < length) {\n\t    min = max;\n\t    max = samples[++i];\n\t  }\n\n\t  t = 1 / resolution * ((length - min) / (max - min) + i % resolution) || 0;\n\t  inv = 1 - t;\n\t  i = ~~(i / resolution) * 6;\n\t  a = segment[i];\n\t  result.x = _round((t * t * (segment[i + 6] - a) + 3 * inv * (t * (segment[i + 4] - a) + inv * (segment[i + 2] - a))) * t + a);\n\t  result.y = _round((t * t * (segment[i + 7] - (a = segment[i + 1])) + 3 * inv * (t * (segment[i + 5] - a) + inv * (segment[i + 3] - a))) * t + a);\n\n\t  if (includeAngle) {\n\t    result.angle = segment.totalLength ? getRotationAtBezierT(segment, i, t >= 1 ? 1 - 1e-9 : t ? t : 1e-9) : segment.angle || 0;\n\t  }\n\n\t  return result;\n\t}\n\tfunction transformRawPath(rawPath, a, b, c, d, tx, ty) {\n\t  var j = rawPath.length,\n\t      segment,\n\t      l,\n\t      i,\n\t      x,\n\t      y;\n\n\t  while (--j > -1) {\n\t    segment = rawPath[j];\n\t    l = segment.length;\n\n\t    for (i = 0; i < l; i += 2) {\n\t      x = segment[i];\n\t      y = segment[i + 1];\n\t      segment[i] = x * a + y * c + tx;\n\t      segment[i + 1] = x * b + y * d + ty;\n\t    }\n\t  }\n\n\t  rawPath._dirty = 1;\n\t  return rawPath;\n\t}\n\n\tfunction arcToSegment(lastX, lastY, rx, ry, angle, largeArcFlag, sweepFlag, x, y) {\n\t  if (lastX === x && lastY === y) {\n\t    return;\n\t  }\n\n\t  rx = _abs(rx);\n\t  ry = _abs(ry);\n\n\t  var angleRad = angle % 360 * _DEG2RAD,\n\t      cosAngle = _cos(angleRad),\n\t      sinAngle = _sin(angleRad),\n\t      PI = Math.PI,\n\t      TWOPI = PI * 2,\n\t      dx2 = (lastX - x) / 2,\n\t      dy2 = (lastY - y) / 2,\n\t      x1 = cosAngle * dx2 + sinAngle * dy2,\n\t      y1 = -sinAngle * dx2 + cosAngle * dy2,\n\t      x1_sq = x1 * x1,\n\t      y1_sq = y1 * y1,\n\t      radiiCheck = x1_sq / (rx * rx) + y1_sq / (ry * ry);\n\n\t  if (radiiCheck > 1) {\n\t    rx = _sqrt(radiiCheck) * rx;\n\t    ry = _sqrt(radiiCheck) * ry;\n\t  }\n\n\t  var rx_sq = rx * rx,\n\t      ry_sq = ry * ry,\n\t      sq = (rx_sq * ry_sq - rx_sq * y1_sq - ry_sq * x1_sq) / (rx_sq * y1_sq + ry_sq * x1_sq);\n\n\t  if (sq < 0) {\n\t    sq = 0;\n\t  }\n\n\t  var coef = (largeArcFlag === sweepFlag ? -1 : 1) * _sqrt(sq),\n\t      cx1 = coef * (rx * y1 / ry),\n\t      cy1 = coef * -(ry * x1 / rx),\n\t      sx2 = (lastX + x) / 2,\n\t      sy2 = (lastY + y) / 2,\n\t      cx = sx2 + (cosAngle * cx1 - sinAngle * cy1),\n\t      cy = sy2 + (sinAngle * cx1 + cosAngle * cy1),\n\t      ux = (x1 - cx1) / rx,\n\t      uy = (y1 - cy1) / ry,\n\t      vx = (-x1 - cx1) / rx,\n\t      vy = (-y1 - cy1) / ry,\n\t      temp = ux * ux + uy * uy,\n\t      angleStart = (uy < 0 ? -1 : 1) * Math.acos(ux / _sqrt(temp)),\n\t      angleExtent = (ux * vy - uy * vx < 0 ? -1 : 1) * Math.acos((ux * vx + uy * vy) / _sqrt(temp * (vx * vx + vy * vy)));\n\n\t  isNaN(angleExtent) && (angleExtent = PI);\n\n\t  if (!sweepFlag && angleExtent > 0) {\n\t    angleExtent -= TWOPI;\n\t  } else if (sweepFlag && angleExtent < 0) {\n\t    angleExtent += TWOPI;\n\t  }\n\n\t  angleStart %= TWOPI;\n\t  angleExtent %= TWOPI;\n\n\t  var segments = Math.ceil(_abs(angleExtent) / (TWOPI / 4)),\n\t      rawPath = [],\n\t      angleIncrement = angleExtent / segments,\n\t      controlLength = 4 / 3 * _sin(angleIncrement / 2) / (1 + _cos(angleIncrement / 2)),\n\t      ma = cosAngle * rx,\n\t      mb = sinAngle * rx,\n\t      mc = sinAngle * -ry,\n\t      md = cosAngle * ry,\n\t      i;\n\n\t  for (i = 0; i < segments; i++) {\n\t    angle = angleStart + i * angleIncrement;\n\t    x1 = _cos(angle);\n\t    y1 = _sin(angle);\n\t    ux = _cos(angle += angleIncrement);\n\t    uy = _sin(angle);\n\t    rawPath.push(x1 - controlLength * y1, y1 + controlLength * x1, ux + controlLength * uy, uy - controlLength * ux, ux, uy);\n\t  }\n\n\t  for (i = 0; i < rawPath.length; i += 2) {\n\t    x1 = rawPath[i];\n\t    y1 = rawPath[i + 1];\n\t    rawPath[i] = x1 * ma + y1 * mc + cx;\n\t    rawPath[i + 1] = x1 * mb + y1 * md + cy;\n\t  }\n\n\t  rawPath[i - 2] = x;\n\t  rawPath[i - 1] = y;\n\t  return rawPath;\n\t}\n\n\tfunction stringToRawPath(d) {\n\t  var a = (d + \"\").replace(_scientific, function (m) {\n\t    var n = +m;\n\t    return n < 0.0001 && n > -0.0001 ? 0 : n;\n\t  }).match(_svgPathExp) || [],\n\t      path = [],\n\t      relativeX = 0,\n\t      relativeY = 0,\n\t      twoThirds = 2 / 3,\n\t      elements = a.length,\n\t      points = 0,\n\t      errorMessage = \"ERROR: malformed path: \" + d,\n\t      i,\n\t      j,\n\t      x,\n\t      y,\n\t      command,\n\t      isRelative,\n\t      segment,\n\t      startX,\n\t      startY,\n\t      difX,\n\t      difY,\n\t      beziers,\n\t      prevCommand,\n\t      flag1,\n\t      flag2,\n\t      line = function line(sx, sy, ex, ey) {\n\t    difX = (ex - sx) / 3;\n\t    difY = (ey - sy) / 3;\n\t    segment.push(sx + difX, sy + difY, ex - difX, ey - difY, ex, ey);\n\t  };\n\n\t  if (!d || !isNaN(a[0]) || isNaN(a[1])) {\n\t    console.log(errorMessage);\n\t    return path;\n\t  }\n\n\t  for (i = 0; i < elements; i++) {\n\t    prevCommand = command;\n\n\t    if (isNaN(a[i])) {\n\t      command = a[i].toUpperCase();\n\t      isRelative = command !== a[i];\n\t    } else {\n\t      i--;\n\t    }\n\n\t    x = +a[i + 1];\n\t    y = +a[i + 2];\n\n\t    if (isRelative) {\n\t      x += relativeX;\n\t      y += relativeY;\n\t    }\n\n\t    if (!i) {\n\t      startX = x;\n\t      startY = y;\n\t    }\n\n\t    if (command === \"M\") {\n\t      if (segment) {\n\t        if (segment.length < 8) {\n\t          path.length -= 1;\n\t        } else {\n\t          points += segment.length;\n\t        }\n\t      }\n\n\t      relativeX = startX = x;\n\t      relativeY = startY = y;\n\t      segment = [x, y];\n\t      path.push(segment);\n\t      i += 2;\n\t      command = \"L\";\n\t    } else if (command === \"C\") {\n\t      if (!segment) {\n\t        segment = [0, 0];\n\t      }\n\n\t      if (!isRelative) {\n\t        relativeX = relativeY = 0;\n\t      }\n\n\t      segment.push(x, y, relativeX + a[i + 3] * 1, relativeY + a[i + 4] * 1, relativeX += a[i + 5] * 1, relativeY += a[i + 6] * 1);\n\t      i += 6;\n\t    } else if (command === \"S\") {\n\t      difX = relativeX;\n\t      difY = relativeY;\n\n\t      if (prevCommand === \"C\" || prevCommand === \"S\") {\n\t        difX += relativeX - segment[segment.length - 4];\n\t        difY += relativeY - segment[segment.length - 3];\n\t      }\n\n\t      if (!isRelative) {\n\t        relativeX = relativeY = 0;\n\t      }\n\n\t      segment.push(difX, difY, x, y, relativeX += a[i + 3] * 1, relativeY += a[i + 4] * 1);\n\t      i += 4;\n\t    } else if (command === \"Q\") {\n\t      difX = relativeX + (x - relativeX) * twoThirds;\n\t      difY = relativeY + (y - relativeY) * twoThirds;\n\n\t      if (!isRelative) {\n\t        relativeX = relativeY = 0;\n\t      }\n\n\t      relativeX += a[i + 3] * 1;\n\t      relativeY += a[i + 4] * 1;\n\t      segment.push(difX, difY, relativeX + (x - relativeX) * twoThirds, relativeY + (y - relativeY) * twoThirds, relativeX, relativeY);\n\t      i += 4;\n\t    } else if (command === \"T\") {\n\t      difX = relativeX - segment[segment.length - 4];\n\t      difY = relativeY - segment[segment.length - 3];\n\t      segment.push(relativeX + difX, relativeY + difY, x + (relativeX + difX * 1.5 - x) * twoThirds, y + (relativeY + difY * 1.5 - y) * twoThirds, relativeX = x, relativeY = y);\n\t      i += 2;\n\t    } else if (command === \"H\") {\n\t      line(relativeX, relativeY, relativeX = x, relativeY);\n\t      i += 1;\n\t    } else if (command === \"V\") {\n\t      line(relativeX, relativeY, relativeX, relativeY = x + (isRelative ? relativeY - relativeX : 0));\n\t      i += 1;\n\t    } else if (command === \"L\" || command === \"Z\") {\n\t      if (command === \"Z\") {\n\t        x = startX;\n\t        y = startY;\n\t        segment.closed = true;\n\t      }\n\n\t      if (command === \"L\" || _abs(relativeX - x) > 0.5 || _abs(relativeY - y) > 0.5) {\n\t        line(relativeX, relativeY, x, y);\n\n\t        if (command === \"L\") {\n\t          i += 2;\n\t        }\n\t      }\n\n\t      relativeX = x;\n\t      relativeY = y;\n\t    } else if (command === \"A\") {\n\t      flag1 = a[i + 4];\n\t      flag2 = a[i + 5];\n\t      difX = a[i + 6];\n\t      difY = a[i + 7];\n\t      j = 7;\n\n\t      if (flag1.length > 1) {\n\t        if (flag1.length < 3) {\n\t          difY = difX;\n\t          difX = flag2;\n\t          j--;\n\t        } else {\n\t          difY = flag2;\n\t          difX = flag1.substr(2);\n\t          j -= 2;\n\t        }\n\n\t        flag2 = flag1.charAt(1);\n\t        flag1 = flag1.charAt(0);\n\t      }\n\n\t      beziers = arcToSegment(relativeX, relativeY, +a[i + 1], +a[i + 2], +a[i + 3], +flag1, +flag2, (isRelative ? relativeX : 0) + difX * 1, (isRelative ? relativeY : 0) + difY * 1);\n\t      i += j;\n\n\t      if (beziers) {\n\t        for (j = 0; j < beziers.length; j++) {\n\t          segment.push(beziers[j]);\n\t        }\n\t      }\n\n\t      relativeX = segment[segment.length - 2];\n\t      relativeY = segment[segment.length - 1];\n\t    } else {\n\t      console.log(errorMessage);\n\t    }\n\t  }\n\n\t  i = segment.length;\n\n\t  if (i < 6) {\n\t    path.pop();\n\t    i = 0;\n\t  } else if (segment[0] === segment[i - 2] && segment[1] === segment[i - 1]) {\n\t    segment.closed = true;\n\t  }\n\n\t  path.totalPoints = points + i;\n\t  return path;\n\t}\n\tfunction flatPointsToSegment(points, curviness) {\n\t  if (curviness === void 0) {\n\t    curviness = 1;\n\t  }\n\n\t  var x = points[0],\n\t      y = 0,\n\t      segment = [x, y],\n\t      i = 2;\n\n\t  for (; i < points.length; i += 2) {\n\t    segment.push(x, y, points[i], y = (points[i] - x) * curviness / 2, x = points[i], -y);\n\t  }\n\n\t  return segment;\n\t}\n\tfunction pointsToSegment(points, curviness, cornerThreshold) {\n\t  _abs(points[0] - points[2]) < 1e-4 && _abs(points[1] - points[3]) < 1e-4 && (points = points.slice(2));\n\t  var l = points.length - 2,\n\t      x = +points[0],\n\t      y = +points[1],\n\t      nextX = +points[2],\n\t      nextY = +points[3],\n\t      segment = [x, y, x, y],\n\t      dx2 = nextX - x,\n\t      dy2 = nextY - y,\n\t      closed = Math.abs(points[l] - x) < 0.001 && Math.abs(points[l + 1] - y) < 0.001,\n\t      prevX,\n\t      prevY,\n\t      angle,\n\t      slope,\n\t      i,\n\t      dx1,\n\t      dx3,\n\t      dy1,\n\t      dy3,\n\t      d1,\n\t      d2,\n\t      a,\n\t      b,\n\t      c;\n\n\t  if (isNaN(cornerThreshold)) {\n\t    cornerThreshold = Math.PI / 10;\n\t  }\n\n\t  if (closed) {\n\t    points.push(nextX, nextY);\n\t    nextX = x;\n\t    nextY = y;\n\t    x = points[l - 2];\n\t    y = points[l - 1];\n\t    points.unshift(x, y);\n\t    l += 4;\n\t  }\n\n\t  curviness = curviness || curviness === 0 ? +curviness : 1;\n\n\t  for (i = 2; i < l; i += 2) {\n\t    prevX = x;\n\t    prevY = y;\n\t    x = nextX;\n\t    y = nextY;\n\t    nextX = +points[i + 2];\n\t    nextY = +points[i + 3];\n\n\t    if (x === nextX && y === nextY) {\n\t      continue;\n\t    }\n\n\t    dx1 = dx2;\n\t    dy1 = dy2;\n\t    dx2 = nextX - x;\n\t    dy2 = nextY - y;\n\t    dx3 = nextX - prevX;\n\t    dy3 = nextY - prevY;\n\t    a = dx1 * dx1 + dy1 * dy1;\n\t    b = dx2 * dx2 + dy2 * dy2;\n\t    c = dx3 * dx3 + dy3 * dy3;\n\t    angle = Math.acos((a + b - c) / _sqrt(4 * a * b));\n\t    d2 = angle / Math.PI * curviness;\n\t    d1 = _sqrt(a) * d2;\n\t    d2 *= _sqrt(b);\n\n\t    if (x !== prevX || y !== prevY) {\n\t      if (angle > cornerThreshold) {\n\t        slope = _atan2(dy3, dx3);\n\t        segment.push(_round(x - _cos(slope) * d1), _round(y - _sin(slope) * d1), _round(x), _round(y), _round(x + _cos(slope) * d2), _round(y + _sin(slope) * d2));\n\t      } else {\n\t        slope = _atan2(dy1, dx1);\n\t        segment.push(_round(x - _cos(slope) * d1), _round(y - _sin(slope) * d1));\n\t        slope = _atan2(dy2, dx2);\n\t        segment.push(_round(x), _round(y), _round(x + _cos(slope) * d2), _round(y + _sin(slope) * d2));\n\t      }\n\t    }\n\t  }\n\n\t  x !== nextX || y !== nextY || segment.length < 4 ? segment.push(_round(nextX), _round(nextY), _round(nextX), _round(nextY)) : segment.length -= 2;\n\n\t  if (closed) {\n\t    segment.splice(0, 6);\n\t    segment.length = segment.length - 6;\n\t  }\n\n\t  return segment;\n\t}\n\tfunction rawPathToString(rawPath) {\n\t  if (_isNumber(rawPath[0])) {\n\t    rawPath = [rawPath];\n\t  }\n\n\t  var result = \"\",\n\t      l = rawPath.length,\n\t      sl,\n\t      s,\n\t      i,\n\t      segment;\n\n\t  for (s = 0; s < l; s++) {\n\t    segment = rawPath[s];\n\t    result += \"M\" + _round(segment[0]) + \",\" + _round(segment[1]) + \" C\";\n\t    sl = segment.length;\n\n\t    for (i = 2; i < sl; i++) {\n\t      result += _round(segment[i++]) + \",\" + _round(segment[i++]) + \" \" + _round(segment[i++]) + \",\" + _round(segment[i++]) + \" \" + _round(segment[i++]) + \",\" + _round(segment[i]) + \" \";\n\t    }\n\n\t    if (segment.closed) {\n\t      result += \"z\";\n\t    }\n\t  }\n\n\t  return result;\n\t}\n\n\tvar _doc,\n\t    _win,\n\t    _docElement,\n\t    _body,\n\t    _divContainer,\n\t    _svgContainer,\n\t    _identityMatrix,\n\t    _gEl,\n\t    _transformProp = \"transform\",\n\t    _transformOriginProp = _transformProp + \"Origin\",\n\t    _hasOffsetBug,\n\t    _setDoc = function _setDoc(element) {\n\t  var doc = element.ownerDocument || element;\n\n\t  if (!(_transformProp in element.style) && \"msTransform\" in element.style) {\n\t    _transformProp = \"msTransform\";\n\t    _transformOriginProp = _transformProp + \"Origin\";\n\t  }\n\n\t  while (doc.parentNode && (doc = doc.parentNode)) {}\n\n\t  _win = window;\n\t  _identityMatrix = new Matrix2D();\n\n\t  if (doc) {\n\t    _doc = doc;\n\t    _docElement = doc.documentElement;\n\t    _body = doc.body;\n\t    _gEl = _doc.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n\t    _gEl.style.transform = \"none\";\n\t    var d1 = doc.createElement(\"div\"),\n\t        d2 = doc.createElement(\"div\");\n\n\t    _body.appendChild(d1);\n\n\t    d1.appendChild(d2);\n\t    d1.style.position = \"static\";\n\t    d1.style[_transformProp] = \"translate3d(0,0,1px)\";\n\t    _hasOffsetBug = d2.offsetParent !== d1;\n\n\t    _body.removeChild(d1);\n\t  }\n\n\t  return doc;\n\t},\n\t    _forceNonZeroScale = function _forceNonZeroScale(e) {\n\t  var a, cache;\n\n\t  while (e && e !== _body) {\n\t    cache = e._gsap;\n\t    cache && cache.uncache && cache.get(e, \"x\");\n\n\t    if (cache && !cache.scaleX && !cache.scaleY && cache.renderTransform) {\n\t      cache.scaleX = cache.scaleY = 1e-4;\n\t      cache.renderTransform(1, cache);\n\t      a ? a.push(cache) : a = [cache];\n\t    }\n\n\t    e = e.parentNode;\n\t  }\n\n\t  return a;\n\t},\n\t    _svgTemps = [],\n\t    _divTemps = [],\n\t    _getDocScrollTop = function _getDocScrollTop() {\n\t  return _win.pageYOffset || _doc.scrollTop || _docElement.scrollTop || _body.scrollTop || 0;\n\t},\n\t    _getDocScrollLeft = function _getDocScrollLeft() {\n\t  return _win.pageXOffset || _doc.scrollLeft || _docElement.scrollLeft || _body.scrollLeft || 0;\n\t},\n\t    _svgOwner = function _svgOwner(element) {\n\t  return element.ownerSVGElement || ((element.tagName + \"\").toLowerCase() === \"svg\" ? element : null);\n\t},\n\t    _isFixed = function _isFixed(element) {\n\t  if (_win.getComputedStyle(element).position === \"fixed\") {\n\t    return true;\n\t  }\n\n\t  element = element.parentNode;\n\n\t  if (element && element.nodeType === 1) {\n\t    return _isFixed(element);\n\t  }\n\t},\n\t    _createSibling = function _createSibling(element, i) {\n\t  if (element.parentNode && (_doc || _setDoc(element))) {\n\t    var svg = _svgOwner(element),\n\t        ns = svg ? svg.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\" : \"http://www.w3.org/1999/xhtml\",\n\t        type = svg ? i ? \"rect\" : \"g\" : \"div\",\n\t        x = i !== 2 ? 0 : 100,\n\t        y = i === 3 ? 100 : 0,\n\t        css = \"position:absolute;display:block;pointer-events:none;margin:0;padding:0;\",\n\t        e = _doc.createElementNS ? _doc.createElementNS(ns.replace(/^https/, \"http\"), type) : _doc.createElement(type);\n\n\t    if (i) {\n\t      if (!svg) {\n\t        if (!_divContainer) {\n\t          _divContainer = _createSibling(element);\n\t          _divContainer.style.cssText = css;\n\t        }\n\n\t        e.style.cssText = css + \"width:0.1px;height:0.1px;top:\" + y + \"px;left:\" + x + \"px\";\n\n\t        _divContainer.appendChild(e);\n\t      } else {\n\t        _svgContainer || (_svgContainer = _createSibling(element));\n\t        e.setAttribute(\"width\", 0.01);\n\t        e.setAttribute(\"height\", 0.01);\n\t        e.setAttribute(\"transform\", \"translate(\" + x + \",\" + y + \")\");\n\n\t        _svgContainer.appendChild(e);\n\t      }\n\t    }\n\n\t    return e;\n\t  }\n\n\t  throw \"Need document and parent.\";\n\t},\n\t    _consolidate = function _consolidate(m) {\n\t  var c = new Matrix2D(),\n\t      i = 0;\n\n\t  for (; i < m.numberOfItems; i++) {\n\t    c.multiply(m.getItem(i).matrix);\n\t  }\n\n\t  return c;\n\t},\n\t    _getCTM = function _getCTM(svg) {\n\t  var m = svg.getCTM(),\n\t      transform;\n\n\t  if (!m) {\n\t    transform = svg.style[_transformProp];\n\t    svg.style[_transformProp] = \"none\";\n\t    svg.appendChild(_gEl);\n\t    m = _gEl.getCTM();\n\t    svg.removeChild(_gEl);\n\t    transform ? svg.style[_transformProp] = transform : svg.style.removeProperty(_transformProp.replace(/([A-Z])/g, \"-$1\").toLowerCase());\n\t  }\n\n\t  return m;\n\t},\n\t    _placeSiblings = function _placeSiblings(element, adjustGOffset) {\n\t  var svg = _svgOwner(element),\n\t      isRootSVG = element === svg,\n\t      siblings = svg ? _svgTemps : _divTemps,\n\t      parent = element.parentNode,\n\t      container,\n\t      m,\n\t      b,\n\t      x,\n\t      y,\n\t      cs;\n\n\t  if (element === _win) {\n\t    return element;\n\t  }\n\n\t  siblings.length || siblings.push(_createSibling(element, 1), _createSibling(element, 2), _createSibling(element, 3));\n\t  container = svg ? _svgContainer : _divContainer;\n\n\t  if (svg) {\n\t    if (isRootSVG) {\n\t      b = _getCTM(element);\n\t      x = -b.e / b.a;\n\t      y = -b.f / b.d;\n\t      m = _identityMatrix;\n\t    } else {\n\t      b = element.getBBox();\n\t      m = element.transform ? element.transform.baseVal : {};\n\t      m = !m.numberOfItems ? _identityMatrix : m.numberOfItems > 1 ? _consolidate(m) : m.getItem(0).matrix;\n\t      x = m.a * b.x + m.c * b.y;\n\t      y = m.b * b.x + m.d * b.y;\n\t    }\n\n\t    if (adjustGOffset && element.tagName.toLowerCase() === \"g\") {\n\t      x = y = 0;\n\t    }\n\n\t    (isRootSVG ? svg : parent).appendChild(container);\n\t    container.setAttribute(\"transform\", \"matrix(\" + m.a + \",\" + m.b + \",\" + m.c + \",\" + m.d + \",\" + (m.e + x) + \",\" + (m.f + y) + \")\");\n\t  } else {\n\t    x = y = 0;\n\n\t    if (_hasOffsetBug) {\n\t      m = element.offsetParent;\n\t      b = element;\n\n\t      while (b && (b = b.parentNode) && b !== m && b.parentNode) {\n\t        if ((_win.getComputedStyle(b)[_transformProp] + \"\").length > 4) {\n\t          x = b.offsetLeft;\n\t          y = b.offsetTop;\n\t          b = 0;\n\t        }\n\t      }\n\t    }\n\n\t    cs = _win.getComputedStyle(element);\n\n\t    if (cs.position !== \"absolute\" && cs.position !== \"fixed\") {\n\t      m = element.offsetParent;\n\n\t      while (parent && parent !== m) {\n\t        x += parent.scrollLeft || 0;\n\t        y += parent.scrollTop || 0;\n\t        parent = parent.parentNode;\n\t      }\n\t    }\n\n\t    b = container.style;\n\t    b.top = element.offsetTop - y + \"px\";\n\t    b.left = element.offsetLeft - x + \"px\";\n\t    b[_transformProp] = cs[_transformProp];\n\t    b[_transformOriginProp] = cs[_transformOriginProp];\n\t    b.position = cs.position === \"fixed\" ? \"fixed\" : \"absolute\";\n\t    element.parentNode.appendChild(container);\n\t  }\n\n\t  return container;\n\t},\n\t    _setMatrix = function _setMatrix(m, a, b, c, d, e, f) {\n\t  m.a = a;\n\t  m.b = b;\n\t  m.c = c;\n\t  m.d = d;\n\t  m.e = e;\n\t  m.f = f;\n\t  return m;\n\t};\n\n\tvar Matrix2D = function () {\n\t  function Matrix2D(a, b, c, d, e, f) {\n\t    if (a === void 0) {\n\t      a = 1;\n\t    }\n\n\t    if (b === void 0) {\n\t      b = 0;\n\t    }\n\n\t    if (c === void 0) {\n\t      c = 0;\n\t    }\n\n\t    if (d === void 0) {\n\t      d = 1;\n\t    }\n\n\t    if (e === void 0) {\n\t      e = 0;\n\t    }\n\n\t    if (f === void 0) {\n\t      f = 0;\n\t    }\n\n\t    _setMatrix(this, a, b, c, d, e, f);\n\t  }\n\n\t  var _proto = Matrix2D.prototype;\n\n\t  _proto.inverse = function inverse() {\n\t    var a = this.a,\n\t        b = this.b,\n\t        c = this.c,\n\t        d = this.d,\n\t        e = this.e,\n\t        f = this.f,\n\t        determinant = a * d - b * c || 1e-10;\n\t    return _setMatrix(this, d / determinant, -b / determinant, -c / determinant, a / determinant, (c * f - d * e) / determinant, -(a * f - b * e) / determinant);\n\t  };\n\n\t  _proto.multiply = function multiply(matrix) {\n\t    var a = this.a,\n\t        b = this.b,\n\t        c = this.c,\n\t        d = this.d,\n\t        e = this.e,\n\t        f = this.f,\n\t        a2 = matrix.a,\n\t        b2 = matrix.c,\n\t        c2 = matrix.b,\n\t        d2 = matrix.d,\n\t        e2 = matrix.e,\n\t        f2 = matrix.f;\n\t    return _setMatrix(this, a2 * a + c2 * c, a2 * b + c2 * d, b2 * a + d2 * c, b2 * b + d2 * d, e + e2 * a + f2 * c, f + e2 * b + f2 * d);\n\t  };\n\n\t  _proto.clone = function clone() {\n\t    return new Matrix2D(this.a, this.b, this.c, this.d, this.e, this.f);\n\t  };\n\n\t  _proto.equals = function equals(matrix) {\n\t    var a = this.a,\n\t        b = this.b,\n\t        c = this.c,\n\t        d = this.d,\n\t        e = this.e,\n\t        f = this.f;\n\t    return a === matrix.a && b === matrix.b && c === matrix.c && d === matrix.d && e === matrix.e && f === matrix.f;\n\t  };\n\n\t  _proto.apply = function apply(point, decoratee) {\n\t    if (decoratee === void 0) {\n\t      decoratee = {};\n\t    }\n\n\t    var x = point.x,\n\t        y = point.y,\n\t        a = this.a,\n\t        b = this.b,\n\t        c = this.c,\n\t        d = this.d,\n\t        e = this.e,\n\t        f = this.f;\n\t    decoratee.x = x * a + y * c + e || 0;\n\t    decoratee.y = x * b + y * d + f || 0;\n\t    return decoratee;\n\t  };\n\n\t  return Matrix2D;\n\t}();\n\tfunction getGlobalMatrix(element, inverse, adjustGOffset, includeScrollInFixed) {\n\t  if (!element || !element.parentNode || (_doc || _setDoc(element)).documentElement === element) {\n\t    return new Matrix2D();\n\t  }\n\n\t  var zeroScales = _forceNonZeroScale(element),\n\t      svg = _svgOwner(element),\n\t      temps = svg ? _svgTemps : _divTemps,\n\t      container = _placeSiblings(element, adjustGOffset),\n\t      b1 = temps[0].getBoundingClientRect(),\n\t      b2 = temps[1].getBoundingClientRect(),\n\t      b3 = temps[2].getBoundingClientRect(),\n\t      parent = container.parentNode,\n\t      isFixed = !includeScrollInFixed && _isFixed(element),\n\t      m = new Matrix2D((b2.left - b1.left) / 100, (b2.top - b1.top) / 100, (b3.left - b1.left) / 100, (b3.top - b1.top) / 100, b1.left + (isFixed ? 0 : _getDocScrollLeft()), b1.top + (isFixed ? 0 : _getDocScrollTop()));\n\n\t  parent.removeChild(container);\n\n\t  if (zeroScales) {\n\t    b1 = zeroScales.length;\n\n\t    while (b1--) {\n\t      b2 = zeroScales[b1];\n\t      b2.scaleX = b2.scaleY = 0;\n\t      b2.renderTransform(1, b2);\n\t    }\n\t  }\n\n\t  return inverse ? m.inverse() : m;\n\t}\n\n\t/*!\n\t * MotionPathPlugin 3.7.1\n\t * https://greensock.com\n\t *\n\t * @license Copyright 2008-2021, GreenSock. All rights reserved.\n\t * Subject to the terms at https://greensock.com/standard-license or for\n\t * Club GreenSock members, the agreement issued with that membership.\n\t * @author: Jack Doyle, jack@greensock.com\n\t*/\n\n\tvar _xProps = \"x,translateX,left,marginLeft,xPercent\".split(\",\"),\n\t    _yProps = \"y,translateY,top,marginTop,yPercent\".split(\",\"),\n\t    _DEG2RAD$1 = Math.PI / 180,\n\t    gsap,\n\t    PropTween,\n\t    _getUnit,\n\t    _toArray,\n\t    _getGSAP = function _getGSAP() {\n\t  return gsap || typeof window !== \"undefined\" && (gsap = window.gsap) && gsap.registerPlugin && gsap;\n\t},\n\t    _populateSegmentFromArray = function _populateSegmentFromArray(segment, values, property, mode) {\n\t  var l = values.length,\n\t      si = mode === 2 ? 0 : mode,\n\t      i = 0,\n\t      v;\n\n\t  for (; i < l; i++) {\n\t    segment[si] = v = parseFloat(values[i][property]);\n\t    mode === 2 && (segment[si + 1] = 0);\n\t    si += 2;\n\t  }\n\n\t  return segment;\n\t},\n\t    _getPropNum = function _getPropNum(target, prop, unit) {\n\t  return parseFloat(target._gsap.get(target, prop, unit || \"px\")) || 0;\n\t},\n\t    _relativize = function _relativize(segment) {\n\t  var x = segment[0],\n\t      y = segment[1],\n\t      i;\n\n\t  for (i = 2; i < segment.length; i += 2) {\n\t    x = segment[i] += x;\n\t    y = segment[i + 1] += y;\n\t  }\n\t},\n\t    _segmentToRawPath = function _segmentToRawPath(plugin, segment, target, x, y, slicer, vars, unitX, unitY) {\n\t  if (vars.type === \"cubic\") {\n\t    segment = [segment];\n\t  } else {\n\t    vars.fromCurrent !== false && segment.unshift(_getPropNum(target, x, unitX), y ? _getPropNum(target, y, unitY) : 0);\n\t    vars.relative && _relativize(segment);\n\t    var pointFunc = y ? pointsToSegment : flatPointsToSegment;\n\t    segment = [pointFunc(segment, vars.curviness)];\n\t  }\n\n\t  segment = slicer(_align(segment, target, vars));\n\n\t  _addDimensionalPropTween(plugin, target, x, segment, \"x\", unitX);\n\n\t  y && _addDimensionalPropTween(plugin, target, y, segment, \"y\", unitY);\n\t  return cacheRawPathMeasurements(segment, vars.resolution || (vars.curviness === 0 ? 20 : 12));\n\t},\n\t    _emptyFunc = function _emptyFunc(v) {\n\t  return v;\n\t},\n\t    _numExp = /[-+\\.]*\\d+[\\.e\\-\\+]*\\d*[e\\-\\+]*\\d*/g,\n\t    _originToPoint = function _originToPoint(element, origin, parentMatrix) {\n\t  var m = getGlobalMatrix(element),\n\t      svg,\n\t      x,\n\t      y;\n\n\t  if ((element.tagName + \"\").toLowerCase() === \"svg\") {\n\t    svg = element.viewBox.baseVal;\n\t    x = svg.x;\n\t    y = svg.y;\n\t    svg.width || (svg = {\n\t      width: +element.getAttribute(\"width\"),\n\t      height: +element.getAttribute(\"height\")\n\t    });\n\t  } else {\n\t    svg = origin && element.getBBox && element.getBBox();\n\t    x = y = 0;\n\t  }\n\n\t  if (origin && origin !== \"auto\") {\n\t    x += origin.push ? origin[0] * (svg ? svg.width : element.offsetWidth || 0) : origin.x;\n\t    y += origin.push ? origin[1] * (svg ? svg.height : element.offsetHeight || 0) : origin.y;\n\t  }\n\n\t  return parentMatrix.apply(x || y ? m.apply({\n\t    x: x,\n\t    y: y\n\t  }) : {\n\t    x: m.e,\n\t    y: m.f\n\t  });\n\t},\n\t    _getAlignMatrix = function _getAlignMatrix(fromElement, toElement, fromOrigin, toOrigin) {\n\t  var parentMatrix = getGlobalMatrix(fromElement.parentNode, true, true),\n\t      m = parentMatrix.clone().multiply(getGlobalMatrix(toElement)),\n\t      fromPoint = _originToPoint(fromElement, fromOrigin, parentMatrix),\n\t      _originToPoint2 = _originToPoint(toElement, toOrigin, parentMatrix),\n\t      x = _originToPoint2.x,\n\t      y = _originToPoint2.y,\n\t      p;\n\n\t  m.e = m.f = 0;\n\n\t  if (toOrigin === \"auto\" && toElement.getTotalLength && toElement.tagName.toLowerCase() === \"path\") {\n\t    p = toElement.getAttribute(\"d\").match(_numExp) || [];\n\t    p = m.apply({\n\t      x: +p[0],\n\t      y: +p[1]\n\t    });\n\t    x += p.x;\n\t    y += p.y;\n\t  }\n\n\t  if (p || toElement.getBBox && fromElement.getBBox && toElement.ownerSVGElement === fromElement.ownerSVGElement) {\n\t    p = m.apply(toElement.getBBox());\n\t    x -= p.x;\n\t    y -= p.y;\n\t  }\n\n\t  m.e = x - fromPoint.x;\n\t  m.f = y - fromPoint.y;\n\t  return m;\n\t},\n\t    _align = function _align(rawPath, target, _ref) {\n\t  var align = _ref.align,\n\t      matrix = _ref.matrix,\n\t      offsetX = _ref.offsetX,\n\t      offsetY = _ref.offsetY,\n\t      alignOrigin = _ref.alignOrigin;\n\n\t  var x = rawPath[0][0],\n\t      y = rawPath[0][1],\n\t      curX = _getPropNum(target, \"x\"),\n\t      curY = _getPropNum(target, \"y\"),\n\t      alignTarget,\n\t      m,\n\t      p;\n\n\t  if (!rawPath || !rawPath.length) {\n\t    return getRawPath(\"M0,0L0,0\");\n\t  }\n\n\t  if (align) {\n\t    if (align === \"self\" || (alignTarget = _toArray(align)[0] || target) === target) {\n\t      transformRawPath(rawPath, 1, 0, 0, 1, curX - x, curY - y);\n\t    } else {\n\t      if (alignOrigin && alignOrigin[2] !== false) {\n\t        gsap.set(target, {\n\t          transformOrigin: alignOrigin[0] * 100 + \"% \" + alignOrigin[1] * 100 + \"%\"\n\t        });\n\t      } else {\n\t        alignOrigin = [_getPropNum(target, \"xPercent\") / -100, _getPropNum(target, \"yPercent\") / -100];\n\t      }\n\n\t      m = _getAlignMatrix(target, alignTarget, alignOrigin, \"auto\");\n\t      p = m.apply({\n\t        x: x,\n\t        y: y\n\t      });\n\t      transformRawPath(rawPath, m.a, m.b, m.c, m.d, curX + m.e - (p.x - m.e), curY + m.f - (p.y - m.f));\n\t    }\n\t  }\n\n\t  if (matrix) {\n\t    transformRawPath(rawPath, matrix.a, matrix.b, matrix.c, matrix.d, matrix.e, matrix.f);\n\t  } else if (offsetX || offsetY) {\n\t    transformRawPath(rawPath, 1, 0, 0, 1, offsetX || 0, offsetY || 0);\n\t  }\n\n\t  return rawPath;\n\t},\n\t    _addDimensionalPropTween = function _addDimensionalPropTween(plugin, target, property, rawPath, pathProperty, forceUnit) {\n\t  var cache = target._gsap,\n\t      harness = cache.harness,\n\t      alias = harness && harness.aliases && harness.aliases[property],\n\t      prop = alias && alias.indexOf(\",\") < 0 ? alias : property,\n\t      pt = plugin._pt = new PropTween(plugin._pt, target, prop, 0, 0, _emptyFunc, 0, cache.set(target, prop, plugin));\n\t  pt.u = _getUnit(cache.get(target, prop, forceUnit)) || 0;\n\t  pt.path = rawPath;\n\t  pt.pp = pathProperty;\n\n\t  plugin._props.push(prop);\n\t},\n\t    _sliceModifier = function _sliceModifier(start, end) {\n\t  return function (rawPath) {\n\t    return start || end !== 1 ? sliceRawPath(rawPath, start, end) : rawPath;\n\t  };\n\t};\n\n\tvar MotionPathPlugin = {\n\t  version: \"3.7.1\",\n\t  name: \"motionPath\",\n\t  register: function register(core, Plugin, propTween) {\n\t    gsap = core;\n\t    _getUnit = gsap.utils.getUnit;\n\t    _toArray = gsap.utils.toArray;\n\t    PropTween = propTween;\n\t  },\n\t  init: function init(target, vars) {\n\t    if (!gsap) {\n\t      console.warn(\"Please gsap.registerPlugin(MotionPathPlugin)\");\n\t      return false;\n\t    }\n\n\t    if (!(typeof vars === \"object\" && !vars.style) || !vars.path) {\n\t      vars = {\n\t        path: vars\n\t      };\n\t    }\n\n\t    var rawPaths = [],\n\t        _vars = vars,\n\t        path = _vars.path,\n\t        autoRotate = _vars.autoRotate,\n\t        unitX = _vars.unitX,\n\t        unitY = _vars.unitY,\n\t        x = _vars.x,\n\t        y = _vars.y,\n\t        firstObj = path[0],\n\t        slicer = _sliceModifier(vars.start, \"end\" in vars ? vars.end : 1),\n\t        rawPath,\n\t        p;\n\n\t    this.rawPaths = rawPaths;\n\t    this.target = target;\n\n\t    if (this.rotate = autoRotate || autoRotate === 0) {\n\t      this.rOffset = parseFloat(autoRotate) || 0;\n\t      this.radians = !!vars.useRadians;\n\t      this.rProp = vars.rotation || \"rotation\";\n\t      this.rSet = target._gsap.set(target, this.rProp, this);\n\t      this.ru = _getUnit(target._gsap.get(target, this.rProp)) || 0;\n\t    }\n\n\t    if (Array.isArray(path) && !(\"closed\" in path) && typeof firstObj !== \"number\") {\n\t      for (p in firstObj) {\n\t        if (!x && ~_xProps.indexOf(p)) {\n\t          x = p;\n\t        } else if (!y && ~_yProps.indexOf(p)) {\n\t          y = p;\n\t        }\n\t      }\n\n\t      if (x && y) {\n\t        rawPaths.push(_segmentToRawPath(this, _populateSegmentFromArray(_populateSegmentFromArray([], path, x, 0), path, y, 1), target, x, y, slicer, vars, unitX || _getUnit(path[0][x]), unitY || _getUnit(path[0][y])));\n\t      } else {\n\t        x = y = 0;\n\t      }\n\n\t      for (p in firstObj) {\n\t        p !== x && p !== y && rawPaths.push(_segmentToRawPath(this, _populateSegmentFromArray([], path, p, 2), target, p, 0, slicer, vars, _getUnit(path[0][p])));\n\t      }\n\t    } else {\n\t      rawPath = slicer(_align(getRawPath(vars.path), target, vars));\n\t      cacheRawPathMeasurements(rawPath, vars.resolution);\n\t      rawPaths.push(rawPath);\n\n\t      _addDimensionalPropTween(this, target, vars.x || \"x\", rawPath, \"x\", vars.unitX || \"px\");\n\n\t      _addDimensionalPropTween(this, target, vars.y || \"y\", rawPath, \"y\", vars.unitY || \"px\");\n\t    }\n\t  },\n\t  render: function render(ratio, data) {\n\t    var rawPaths = data.rawPaths,\n\t        i = rawPaths.length,\n\t        pt = data._pt;\n\n\t    if (ratio > 1) {\n\t      ratio = 1;\n\t    } else if (ratio < 0) {\n\t      ratio = 0;\n\t    }\n\n\t    while (i--) {\n\t      getPositionOnPath(rawPaths[i], ratio, !i && data.rotate, rawPaths[i]);\n\t    }\n\n\t    while (pt) {\n\t      pt.set(pt.t, pt.p, pt.path[pt.pp] + pt.u, pt.d, ratio);\n\t      pt = pt._next;\n\t    }\n\n\t    data.rotate && data.rSet(data.target, data.rProp, rawPaths[0].angle * (data.radians ? _DEG2RAD$1 : 1) + data.rOffset + data.ru, data, ratio);\n\t  },\n\t  getLength: function getLength(path) {\n\t    return cacheRawPathMeasurements(getRawPath(path)).totalLength;\n\t  },\n\t  sliceRawPath: sliceRawPath,\n\t  getRawPath: getRawPath,\n\t  pointsToSegment: pointsToSegment,\n\t  stringToRawPath: stringToRawPath,\n\t  rawPathToString: rawPathToString,\n\t  transformRawPath: transformRawPath,\n\t  getGlobalMatrix: getGlobalMatrix,\n\t  getPositionOnPath: getPositionOnPath,\n\t  cacheRawPathMeasurements: cacheRawPathMeasurements,\n\t  convertToPath: function convertToPath$1(targets, swap) {\n\t    return _toArray(targets).map(function (target) {\n\t      return convertToPath(target, swap !== false);\n\t    });\n\t  },\n\t  convertCoordinates: function convertCoordinates(fromElement, toElement, point) {\n\t    var m = getGlobalMatrix(toElement, true, true).multiply(getGlobalMatrix(fromElement));\n\t    return point ? m.apply(point) : m;\n\t  },\n\t  getAlignMatrix: _getAlignMatrix,\n\t  getRelativePosition: function getRelativePosition(fromElement, toElement, fromOrigin, toOrigin) {\n\t    var m = _getAlignMatrix(fromElement, toElement, fromOrigin, toOrigin);\n\n\t    return {\n\t      x: m.e,\n\t      y: m.f\n\t    };\n\t  },\n\t  arrayToRawPath: function arrayToRawPath(value, vars) {\n\t    vars = vars || {};\n\n\t    var segment = _populateSegmentFromArray(_populateSegmentFromArray([], value, vars.x || \"x\", 0), value, vars.y || \"y\", 1);\n\n\t    vars.relative && _relativize(segment);\n\t    return [vars.type === \"cubic\" ? segment : pointsToSegment(segment, vars.curviness)];\n\t  }\n\t};\n\t_getGSAP() && gsap.registerPlugin(MotionPathPlugin);\n\n\texports.MotionPathPlugin = MotionPathPlugin;\n\texports.default = MotionPathPlugin;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { EventDispatcher, Vector3, MOUSE, TOUCH, PerspectiveCamera, Quaternion, Spherical, Vector2, OrthographicCamera } from 'three';\n\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst moduloWrapAround = (offset, capacity) => (offset % capacity + capacity) % capacity;\n\nclass OrbitControls extends EventDispatcher {\n  // Set to false to disable this control\n  // \"target\" sets the location of focus, where the object orbits around\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  // How far you can zoom in and out ( OrthographicCamera only )\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  // radians\n  // radians\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n  // radians\n  // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  // Set to false to disable rotating\n  // Set to false to disable panning\n  // if false, pan orthogonal to world-space direction camera.up\n  // pixels moved per arrow key push\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  // 30 seconds per orbit when fps is 60\n  // The four arrow keys\n  // Mouse buttons\n  // Touch fingers\n  // the target DOM element for key events\n  constructor(object, domElement) {\n    super();\n\n    _defineProperty(this, \"object\", void 0);\n\n    _defineProperty(this, \"domElement\", void 0);\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"target\", new Vector3());\n\n    _defineProperty(this, \"minDistance\", 0);\n\n    _defineProperty(this, \"maxDistance\", Infinity);\n\n    _defineProperty(this, \"minZoom\", 0);\n\n    _defineProperty(this, \"maxZoom\", Infinity);\n\n    _defineProperty(this, \"minPolarAngle\", 0);\n\n    _defineProperty(this, \"maxPolarAngle\", Math.PI);\n\n    _defineProperty(this, \"minAzimuthAngle\", -Infinity);\n\n    _defineProperty(this, \"maxAzimuthAngle\", Infinity);\n\n    _defineProperty(this, \"enableDamping\", false);\n\n    _defineProperty(this, \"dampingFactor\", 0.05);\n\n    _defineProperty(this, \"enableZoom\", true);\n\n    _defineProperty(this, \"zoomSpeed\", 1.0);\n\n    _defineProperty(this, \"enableRotate\", true);\n\n    _defineProperty(this, \"rotateSpeed\", 1.0);\n\n    _defineProperty(this, \"enablePan\", true);\n\n    _defineProperty(this, \"panSpeed\", 1.0);\n\n    _defineProperty(this, \"screenSpacePanning\", true);\n\n    _defineProperty(this, \"keyPanSpeed\", 7.0);\n\n    _defineProperty(this, \"autoRotate\", false);\n\n    _defineProperty(this, \"autoRotateSpeed\", 2.0);\n\n    _defineProperty(this, \"keys\", {\n      LEFT: 'ArrowLeft',\n      UP: 'ArrowUp',\n      RIGHT: 'ArrowRight',\n      BOTTOM: 'ArrowDown'\n    });\n\n    _defineProperty(this, \"mouseButtons\", {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    });\n\n    _defineProperty(this, \"touches\", {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    });\n\n    _defineProperty(this, \"target0\", void 0);\n\n    _defineProperty(this, \"position0\", void 0);\n\n    _defineProperty(this, \"zoom0\", void 0);\n\n    _defineProperty(this, \"_domElementKeyEvents\", null);\n\n    _defineProperty(this, \"getPolarAngle\", void 0);\n\n    _defineProperty(this, \"getAzimuthalAngle\", void 0);\n\n    _defineProperty(this, \"setPolarAngle\", void 0);\n\n    _defineProperty(this, \"setAzimuthalAngle\", void 0);\n\n    _defineProperty(this, \"listenToKeyEvents\", void 0);\n\n    _defineProperty(this, \"saveState\", void 0);\n\n    _defineProperty(this, \"reset\", void 0);\n\n    _defineProperty(this, \"update\", void 0);\n\n    _defineProperty(this, \"connect\", void 0);\n\n    _defineProperty(this, \"dispose\", void 0);\n\n    this.object = object;\n    this.domElement = domElement; // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object instanceof PerspectiveCamera ? this.object.zoom : 1; //\n    // public methods\n    //\n\n    this.getPolarAngle = () => spherical.phi;\n\n    this.getAzimuthalAngle = () => spherical.theta;\n\n    this.setPolarAngle = value => {\n      // use modulo wrapping to safeguard value\n      let phi = moduloWrapAround(value, 2 * Math.PI);\n      let currentPhi = spherical.phi; // convert to the equivalent shortest angle\n\n      if (currentPhi < 0) currentPhi += 2 * Math.PI;\n      if (phi < 0) phi += 2 * Math.PI;\n      let phiDist = Math.abs(phi - currentPhi);\n\n      if (2 * Math.PI - phiDist < phiDist) {\n        if (phi < currentPhi) {\n          phi += 2 * Math.PI;\n        } else {\n          currentPhi += 2 * Math.PI;\n        }\n      }\n\n      sphericalDelta.phi = phi - currentPhi;\n      scope.update();\n    };\n\n    this.setAzimuthalAngle = value => {\n      // use modulo wrapping to safeguard value\n      let theta = moduloWrapAround(value, 2 * Math.PI);\n      let currentTheta = spherical.theta; // convert to the equivalent shortest angle\n\n      if (currentTheta < 0) currentTheta += 2 * Math.PI;\n      if (theta < 0) theta += 2 * Math.PI;\n      let thetaDist = Math.abs(theta - currentTheta);\n\n      if (2 * Math.PI - thetaDist < thetaDist) {\n        if (theta < currentTheta) {\n          theta += 2 * Math.PI;\n        } else {\n          currentTheta += 2 * Math.PI;\n        }\n      }\n\n      sphericalDelta.theta = theta - currentTheta;\n      scope.update();\n    };\n\n    this.listenToKeyEvents = domElement => {\n      domElement.addEventListener('keydown', onKeyDown);\n      this._domElementKeyEvents = domElement;\n    };\n\n    this.saveState = () => {\n      scope.target0.copy(scope.target);\n      scope.position0.copy(scope.object.position);\n      scope.zoom0 = scope.object instanceof PerspectiveCamera ? scope.object.zoom : 1;\n    };\n\n    this.reset = () => {\n      scope.target.copy(scope.target0);\n      scope.object.position.copy(scope.position0);\n\n      if (scope.object instanceof PerspectiveCamera) {\n        scope.object.zoom = scope.zoom0;\n        scope.object.updateProjectionMatrix();\n      }\n\n      scope.dispatchEvent(changeEvent);\n      scope.update();\n      state = STATE.NONE;\n    }; // this method is exposed, but perhaps it would be better if we can make it private...\n\n\n    this.update = (() => {\n      const offset = new Vector3(); // so camera.up is the orbit axis\n\n      const quat = new Quaternion().setFromUnitVectors(object.up, new Vector3(0, 1, 0));\n      const quatInverse = quat.clone().invert();\n      const lastPosition = new Vector3();\n      const lastQuaternion = new Quaternion();\n      const twoPI = 2 * Math.PI;\n      return function update() {\n        const position = scope.object.position;\n        offset.copy(position).sub(scope.target); // rotate offset to \"y-axis-is-up\" space\n\n        offset.applyQuaternion(quat); // angle from z-axis around y-axis\n\n        spherical.setFromVector3(offset);\n\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle());\n        }\n\n        if (scope.enableDamping) {\n          spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n          spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n        } else {\n          spherical.theta += sphericalDelta.theta;\n          spherical.phi += sphericalDelta.phi;\n        } // restrict theta to be between desired limits\n\n\n        let min = scope.minAzimuthAngle;\n        let max = scope.maxAzimuthAngle;\n\n        if (isFinite(min) && isFinite(max)) {\n          if (min < -Math.PI) min += twoPI;else if (min > Math.PI) min -= twoPI;\n          if (max < -Math.PI) max += twoPI;else if (max > Math.PI) max -= twoPI;\n\n          if (min <= max) {\n            spherical.theta = Math.max(min, Math.min(max, spherical.theta));\n          } else {\n            spherical.theta = spherical.theta > (min + max) / 2 ? Math.max(min, spherical.theta) : Math.min(max, spherical.theta);\n          }\n        } // restrict phi to be between desired limits\n\n\n        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n        spherical.makeSafe();\n        spherical.radius *= scale; // restrict radius to be between desired limits\n\n        spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius)); // move target to panned location\n\n        if (scope.enableDamping === true) {\n          scope.target.addScaledVector(panOffset, scope.dampingFactor);\n        } else {\n          scope.target.add(panOffset);\n        }\n\n        offset.setFromSpherical(spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        offset.applyQuaternion(quatInverse);\n        position.copy(scope.target).add(offset);\n        scope.object.lookAt(scope.target);\n\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor;\n          sphericalDelta.phi *= 1 - scope.dampingFactor;\n          panOffset.multiplyScalar(1 - scope.dampingFactor);\n        } else {\n          sphericalDelta.set(0, 0, 0);\n          panOffset.set(0, 0, 0);\n        }\n\n        scale = 1; // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n          scope.dispatchEvent(changeEvent);\n          lastPosition.copy(scope.object.position);\n          lastQuaternion.copy(scope.object.quaternion);\n          zoomChanged = false;\n          return true;\n        }\n\n        return false;\n      };\n    })(); // https://github.com/mrdoob/three.js/issues/20575\n\n\n    this.connect = domElement => {\n      if (domElement === document) {\n        console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n      }\n\n      scope.domElement = domElement; // disables touch scroll\n      // touch-action needs to be defined for pointer events to work on mobile\n      // https://stackoverflow.com/a/48254578\n\n      scope.domElement.style.touchAction = 'none';\n      scope.domElement.addEventListener('contextmenu', onContextMenu);\n      scope.domElement.addEventListener('pointerdown', onPointerDown);\n      scope.domElement.addEventListener('pointercancel', onPointerCancel);\n      scope.domElement.addEventListener('wheel', onMouseWheel);\n    };\n\n    this.dispose = () => {\n      var _scope$domElement, _scope$domElement2, _scope$domElement3, _scope$domElement4, _scope$domElement5, _scope$domElement6;\n\n      (_scope$domElement = scope.domElement) === null || _scope$domElement === void 0 ? void 0 : _scope$domElement.removeEventListener('contextmenu', onContextMenu);\n      (_scope$domElement2 = scope.domElement) === null || _scope$domElement2 === void 0 ? void 0 : _scope$domElement2.removeEventListener('pointerdown', onPointerDown);\n      (_scope$domElement3 = scope.domElement) === null || _scope$domElement3 === void 0 ? void 0 : _scope$domElement3.removeEventListener('pointercancel', onPointerCancel);\n      (_scope$domElement4 = scope.domElement) === null || _scope$domElement4 === void 0 ? void 0 : _scope$domElement4.removeEventListener('wheel', onMouseWheel);\n      (_scope$domElement5 = scope.domElement) === null || _scope$domElement5 === void 0 ? void 0 : _scope$domElement5.ownerDocument.removeEventListener('pointermove', onPointerMove);\n      (_scope$domElement6 = scope.domElement) === null || _scope$domElement6 === void 0 ? void 0 : _scope$domElement6.ownerDocument.removeEventListener('pointerup', onPointerUp);\n\n      if (scope._domElementKeyEvents !== null) {\n        scope._domElementKeyEvents.removeEventListener('keydown', onKeyDown);\n      } //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n    }; //\n    // internals\n    //\n\n\n    const scope = this;\n    const changeEvent = {\n      type: 'change'\n    };\n    const startEvent = {\n      type: 'start'\n    };\n    const endEvent = {\n      type: 'end'\n    };\n    const STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_PAN: 4,\n      TOUCH_DOLLY_PAN: 5,\n      TOUCH_DOLLY_ROTATE: 6\n    };\n    let state = STATE.NONE;\n    const EPS = 0.000001; // current position in spherical coordinates\n\n    const spherical = new Spherical();\n    const sphericalDelta = new Spherical();\n    let scale = 1;\n    const panOffset = new Vector3();\n    let zoomChanged = false;\n    const rotateStart = new Vector2();\n    const rotateEnd = new Vector2();\n    const rotateDelta = new Vector2();\n    const panStart = new Vector2();\n    const panEnd = new Vector2();\n    const panDelta = new Vector2();\n    const dollyStart = new Vector2();\n    const dollyEnd = new Vector2();\n    const dollyDelta = new Vector2();\n    const pointers = [];\n    const pointerPositions = {};\n\n    function getAutoRotationAngle() {\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n    }\n\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n\n    function rotateLeft(angle) {\n      sphericalDelta.theta -= angle;\n    }\n\n    function rotateUp(angle) {\n      sphericalDelta.phi -= angle;\n    }\n\n    const panLeft = (() => {\n      const v = new Vector3();\n      return function panLeft(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n        v.multiplyScalar(-distance);\n        panOffset.add(v);\n      };\n    })();\n\n    const panUp = (() => {\n      const v = new Vector3();\n      return function panUp(distance, objectMatrix) {\n        if (scope.screenSpacePanning === true) {\n          v.setFromMatrixColumn(objectMatrix, 1);\n        } else {\n          v.setFromMatrixColumn(objectMatrix, 0);\n          v.crossVectors(scope.object.up, v);\n        }\n\n        v.multiplyScalar(distance);\n        panOffset.add(v);\n      };\n    })(); // deltaX and deltaY are in pixels; right and down are positive\n\n\n    const pan = (() => {\n      const offset = new Vector3();\n      return function pan(deltaX, deltaY) {\n        const element = scope.domElement;\n\n        if (element && scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n          // perspective\n          const position = scope.object.position;\n          offset.copy(position).sub(scope.target);\n          let targetDistance = offset.length(); // half of the fov is center to top of screen\n\n          targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n          panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n          panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n        } else if (element && scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n          // orthographic\n          panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n          panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n        } else {\n          // camera neither orthographic nor perspective\n          console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n          scope.enablePan = false;\n        }\n      };\n    })();\n\n    function dollyOut(dollyScale) {\n      if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n        scale /= dollyScale;\n      } else if (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    }\n\n    function dollyIn(dollyScale) {\n      if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n        scale *= dollyScale;\n      } else if (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    } //\n    // event callbacks - update the object state\n    //\n\n\n    function handleMouseDownRotate(event) {\n      rotateStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownDolly(event) {\n      dollyStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownPan(event) {\n      panStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseMoveRotate(event) {\n      rotateEnd.set(event.clientX, event.clientY);\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n\n      if (element) {\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      }\n\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n\n    function handleMouseMoveDolly(event) {\n      dollyEnd.set(event.clientX, event.clientY);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale());\n      }\n\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n\n    function handleMouseMovePan(event) {\n      panEnd.set(event.clientX, event.clientY);\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n\n    function handleMouseWheel(event) {\n      if (event.deltaY < 0) {\n        dollyIn(getZoomScale());\n      } else if (event.deltaY > 0) {\n        dollyOut(getZoomScale());\n      }\n\n      scope.update();\n    }\n\n    function handleKeyDown(event) {\n      let needsUpdate = false;\n\n      switch (event.code) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n\n      if (needsUpdate) {\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault();\n        scope.update();\n      }\n    }\n\n    function handleTouchStartRotate() {\n      if (pointers.length == 1) {\n        rotateStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        rotateStart.set(x, y);\n      }\n    }\n\n    function handleTouchStartPan() {\n      if (pointers.length == 1) {\n        panStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        panStart.set(x, y);\n      }\n    }\n\n    function handleTouchStartDolly() {\n      const dx = pointers[0].pageX - pointers[1].pageX;\n      const dy = pointers[0].pageY - pointers[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyStart.set(0, distance);\n    }\n\n    function handleTouchStartDollyPan() {\n      if (scope.enableZoom) handleTouchStartDolly();\n      if (scope.enablePan) handleTouchStartPan();\n    }\n\n    function handleTouchStartDollyRotate() {\n      if (scope.enableZoom) handleTouchStartDolly();\n      if (scope.enableRotate) handleTouchStartRotate();\n    }\n\n    function handleTouchMoveRotate(event) {\n      if (pointers.length == 1) {\n        rotateEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        rotateEnd.set(x, y);\n      }\n\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n\n      if (element) {\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      }\n\n      rotateStart.copy(rotateEnd);\n    }\n\n    function handleTouchMovePan(event) {\n      if (pointers.length == 1) {\n        panEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        panEnd.set(x, y);\n      }\n\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n    }\n\n    function handleTouchMoveDolly(event) {\n      const position = getSecondPointerPosition(event);\n      const dx = event.pageX - position.x;\n      const dy = event.pageY - position.y;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyEnd.set(0, distance);\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n      dollyOut(dollyDelta.y);\n      dollyStart.copy(dollyEnd);\n    }\n\n    function handleTouchMoveDollyPan(event) {\n      if (scope.enableZoom) handleTouchMoveDolly(event);\n      if (scope.enablePan) handleTouchMovePan(event);\n    }\n\n    function handleTouchMoveDollyRotate(event) {\n      if (scope.enableZoom) handleTouchMoveDolly(event);\n      if (scope.enableRotate) handleTouchMoveRotate(event);\n    }\n    // event handlers - FSM: listen for events and reset state\n    //\n\n\n    function onPointerDown(event) {\n      if (scope.enabled === false) return;\n\n      if (pointers.length === 0) {\n        var _scope$domElement7, _scope$domElement8;\n\n        (_scope$domElement7 = scope.domElement) === null || _scope$domElement7 === void 0 ? void 0 : _scope$domElement7.ownerDocument.addEventListener('pointermove', onPointerMove);\n        (_scope$domElement8 = scope.domElement) === null || _scope$domElement8 === void 0 ? void 0 : _scope$domElement8.ownerDocument.addEventListener('pointerup', onPointerUp);\n      }\n\n      addPointer(event);\n\n      if (event.pointerType === 'touch') {\n        onTouchStart(event);\n      } else {\n        onMouseDown(event);\n      }\n    }\n\n    function onPointerMove(event) {\n      if (scope.enabled === false) return;\n\n      if (event.pointerType === 'touch') {\n        onTouchMove(event);\n      } else {\n        onMouseMove(event);\n      }\n    }\n\n    function onPointerUp(event) {\n      if (scope.enabled === false) return;\n\n      if (event.pointerType === 'touch') {\n        onTouchEnd();\n      } else {\n        onMouseUp();\n      }\n\n      removePointer(event);\n\n      if (pointers.length === 0) {\n        var _scope$domElement9, _scope$domElement10;\n\n        (_scope$domElement9 = scope.domElement) === null || _scope$domElement9 === void 0 ? void 0 : _scope$domElement9.ownerDocument.removeEventListener('pointermove', onPointerMove);\n        (_scope$domElement10 = scope.domElement) === null || _scope$domElement10 === void 0 ? void 0 : _scope$domElement10.ownerDocument.removeEventListener('pointerup', onPointerUp);\n      }\n    }\n\n    function onPointerCancel(event) {\n      removePointer(event);\n    }\n\n    function onMouseDown(event) {\n      let mouseAction;\n\n      switch (event.button) {\n        case 0:\n          mouseAction = scope.mouseButtons.LEFT;\n          break;\n\n        case 1:\n          mouseAction = scope.mouseButtons.MIDDLE;\n          break;\n\n        case 2:\n          mouseAction = scope.mouseButtons.RIGHT;\n          break;\n\n        default:\n          mouseAction = -1;\n      }\n\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (scope.enableZoom === false) return;\n          handleMouseDownDolly(event);\n          state = STATE.DOLLY;\n          break;\n\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          } else {\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          }\n\n          break;\n\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          } else {\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          }\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onMouseMove(event) {\n      if (scope.enabled === false) return;\n\n      switch (state) {\n        case STATE.ROTATE:\n          if (scope.enableRotate === false) return;\n          handleMouseMoveRotate(event);\n          break;\n\n        case STATE.DOLLY:\n          if (scope.enableZoom === false) return;\n          handleMouseMoveDolly(event);\n          break;\n\n        case STATE.PAN:\n          if (scope.enablePan === false) return;\n          handleMouseMovePan(event);\n          break;\n      }\n    }\n\n    function onMouseUp() {\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n\n    function onMouseWheel(event) {\n      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) {\n        return;\n      }\n\n      event.preventDefault();\n      scope.dispatchEvent(startEvent);\n      handleMouseWheel(event);\n      scope.dispatchEvent(endEvent);\n    }\n\n    function onKeyDown(event) {\n      if (scope.enabled === false || scope.enablePan === false) return;\n      handleKeyDown(event);\n    }\n\n    function onTouchStart(event) {\n      trackPointer(event);\n\n      switch (pointers.length) {\n        case 1:\n          switch (scope.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (scope.enableRotate === false) return;\n              handleTouchStartRotate();\n              state = STATE.TOUCH_ROTATE;\n              break;\n\n            case TOUCH.PAN:\n              if (scope.enablePan === false) return;\n              handleTouchStartPan();\n              state = STATE.TOUCH_PAN;\n              break;\n\n            default:\n              state = STATE.NONE;\n          }\n\n          break;\n\n        case 2:\n          switch (scope.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (scope.enableZoom === false && scope.enablePan === false) return;\n              handleTouchStartDollyPan();\n              state = STATE.TOUCH_DOLLY_PAN;\n              break;\n\n            case TOUCH.DOLLY_ROTATE:\n              if (scope.enableZoom === false && scope.enableRotate === false) return;\n              handleTouchStartDollyRotate();\n              state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n\n            default:\n              state = STATE.NONE;\n          }\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onTouchMove(event) {\n      trackPointer(event);\n\n      switch (state) {\n        case STATE.TOUCH_ROTATE:\n          if (scope.enableRotate === false) return;\n          handleTouchMoveRotate(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_PAN:\n          if (scope.enablePan === false) return;\n          handleTouchMovePan(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_PAN:\n          if (scope.enableZoom === false && scope.enablePan === false) return;\n          handleTouchMoveDollyPan(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (scope.enableZoom === false && scope.enableRotate === false) return;\n          handleTouchMoveDollyRotate(event);\n          scope.update();\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n    }\n\n    function onTouchEnd() {\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n\n    function onContextMenu(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n    }\n\n    function addPointer(event) {\n      pointers.push(event);\n    }\n\n    function removePointer(event) {\n      delete pointerPositions[event.pointerId];\n\n      for (let i = 0; i < pointers.length; i++) {\n        if (pointers[i].pointerId == event.pointerId) {\n          pointers.splice(i, 1);\n          return;\n        }\n      }\n    }\n\n    function trackPointer(event) {\n      let position = pointerPositions[event.pointerId];\n\n      if (position === undefined) {\n        position = new Vector2();\n        pointerPositions[event.pointerId] = position;\n      }\n\n      position.set(event.pageX, event.pageY);\n    }\n\n    function getSecondPointerPosition(event) {\n      const pointer = event.pointerId === pointers[0].pointerId ? pointers[1] : pointers[0];\n      return pointerPositions[pointer.pointerId];\n    } // connect events\n\n\n    if (domElement !== undefined) this.connect(domElement); // force an update at start\n\n    this.update();\n  }\n\n} // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\n\nclass MapControls extends OrbitControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    this.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n    this.mouseButtons.LEFT = MOUSE.PAN;\n    this.mouseButtons.RIGHT = MOUSE.ROTATE;\n    this.touches.ONE = TOUCH.PAN;\n    this.touches.TWO = TOUCH.DOLLY_ROTATE;\n  }\n\n}\n\nexport { MapControls, OrbitControls };\n","import { Color, ShaderMaterial, UniformsUtils, UniformsLib, BackSide } from 'three';\n\n/**\n * Reference: https://en.wikipedia.org/wiki/Cel_shading\n *\n * API\n *\n * 1. Traditional\n *\n * var effect = new OutlineEffect( renderer );\n *\n * function render() {\n *\n * \teffect.render( scene, camera );\n *\n * }\n *\n * 2. VR compatible\n *\n * var effect = new OutlineEffect( renderer );\n * var renderingOutline = false;\n *\n * scene.onAfterRender = function () {\n *\n * \tif ( renderingOutline ) return;\n *\n * \trenderingOutline = true;\n *\n * \teffect.renderOutline( scene, camera );\n *\n * \trenderingOutline = false;\n *\n * };\n *\n * function render() {\n *\n * \trenderer.render( scene, camera );\n *\n * }\n *\n * // How to set default outline parameters\n * new OutlineEffect( renderer, {\n * \tdefaultThickness: 0.01,\n * \tdefaultColor: [ 0, 0, 0 ],\n * \tdefaultAlpha: 0.8,\n * \tdefaultKeepAlive: true // keeps outline material in cache even if material is removed from scene\n * } );\n *\n * // How to set outline parameters for each material\n * material.userData.outlineParameters = {\n * \tthickness: 0.01,\n * \tcolor: [ 0, 0, 0 ]\n * \talpha: 0.8,\n * \tvisible: true,\n * \tkeepAlive: true\n * };\n */\n\nconst OutlineEffect = function (renderer, parameters) {\n  parameters = parameters || {};\n  this.enabled = true;\n  const defaultThickness = parameters.defaultThickness !== undefined ? parameters.defaultThickness : 0.003;\n  const defaultColor = new Color().fromArray(parameters.defaultColor !== undefined ? parameters.defaultColor : [0, 0, 0]);\n  const defaultAlpha = parameters.defaultAlpha !== undefined ? parameters.defaultAlpha : 1.0;\n  const defaultKeepAlive = parameters.defaultKeepAlive !== undefined ? parameters.defaultKeepAlive : false; // object.material.uuid -> outlineMaterial or\n  // object.material[ n ].uuid -> outlineMaterial\n  // save at the outline material creation and release\n  // if it's unused removeThresholdCount frames\n  // unless keepAlive is true.\n\n  const cache = {};\n  const removeThresholdCount = 60; // outlineMaterial.uuid -> object.material or\n  // outlineMaterial.uuid -> object.material[ n ]\n  // save before render and release after render.\n\n  const originalMaterials = {}; // object.uuid -> originalOnBeforeRender\n  // save before render and release after render.\n\n  const originalOnBeforeRenders = {}; //this.cache = cache;  // for debug\n\n  const uniformsOutline = {\n    outlineThickness: {\n      value: defaultThickness\n    },\n    outlineColor: {\n      value: defaultColor\n    },\n    outlineAlpha: {\n      value: defaultAlpha\n    }\n  };\n  const vertexShader = ['#include <common>', '#include <uv_pars_vertex>', '#include <displacementmap_pars_vertex>', '#include <fog_pars_vertex>', '#include <morphtarget_pars_vertex>', '#include <skinning_pars_vertex>', '#include <logdepthbuf_pars_vertex>', '#include <clipping_planes_pars_vertex>', 'uniform float outlineThickness;', 'vec4 calculateOutline( vec4 pos, vec3 normal, vec4 skinned ) {', '\tfloat thickness = outlineThickness;', '\tconst float ratio = 1.0;', // TODO: support outline thickness ratio for each vertex\n  '\tvec4 pos2 = projectionMatrix * modelViewMatrix * vec4( skinned.xyz + normal, 1.0 );', // NOTE: subtract pos2 from pos because BackSide objectNormal is negative\n  '\tvec4 norm = normalize( pos - pos2 );', '\treturn pos + norm * thickness * pos.w * ratio;', '}', 'void main() {', '\t#include <uv_vertex>', '\t#include <beginnormal_vertex>', '\t#include <morphnormal_vertex>', '\t#include <skinbase_vertex>', '\t#include <skinnormal_vertex>', '\t#include <begin_vertex>', '\t#include <morphtarget_vertex>', '\t#include <skinning_vertex>', '\t#include <displacementmap_vertex>', '\t#include <project_vertex>', '\tvec3 outlineNormal = - objectNormal;', // the outline material is always rendered with BackSide\n  '\tgl_Position = calculateOutline( gl_Position, outlineNormal, vec4( transformed, 1.0 ) );', '\t#include <logdepthbuf_vertex>', '\t#include <clipping_planes_vertex>', '\t#include <fog_vertex>', '}'].join('\\n');\n  const fragmentShader = ['#include <common>', '#include <fog_pars_fragment>', '#include <logdepthbuf_pars_fragment>', '#include <clipping_planes_pars_fragment>', 'uniform vec3 outlineColor;', 'uniform float outlineAlpha;', 'void main() {', '\t#include <clipping_planes_fragment>', '\t#include <logdepthbuf_fragment>', '\tgl_FragColor = vec4( outlineColor, outlineAlpha );', '\t#include <tonemapping_fragment>', '\t#include <encodings_fragment>', '\t#include <fog_fragment>', '\t#include <premultiplied_alpha_fragment>', '}'].join('\\n');\n\n  function createMaterial() {\n    return new ShaderMaterial({\n      type: 'OutlineEffect',\n      uniforms: UniformsUtils.merge([UniformsLib['fog'], UniformsLib['displacementmap'], uniformsOutline]),\n      vertexShader,\n      fragmentShader,\n      side: BackSide\n    });\n  }\n\n  function getOutlineMaterialFromCache(originalMaterial) {\n    let data = cache[originalMaterial.uuid];\n\n    if (data === undefined) {\n      data = {\n        material: createMaterial(),\n        used: true,\n        keepAlive: defaultKeepAlive,\n        count: 0\n      };\n      cache[originalMaterial.uuid] = data;\n    }\n\n    data.used = true;\n    return data.material;\n  }\n\n  function getOutlineMaterial(originalMaterial) {\n    const outlineMaterial = getOutlineMaterialFromCache(originalMaterial);\n    originalMaterials[outlineMaterial.uuid] = originalMaterial;\n    updateOutlineMaterial(outlineMaterial, originalMaterial);\n    return outlineMaterial;\n  }\n\n  function isCompatible(object) {\n    const geometry = object.geometry;\n    let hasNormals = false;\n\n    if (object.geometry !== undefined) {\n      if (geometry.isBufferGeometry) {\n        hasNormals = geometry.attributes.normal !== undefined;\n      } else {\n        hasNormals = true; // the renderer always produces a normal attribute for Geometry\n      }\n    }\n\n    return object.isMesh === true && object.material !== undefined && hasNormals === true;\n  }\n\n  function setOutlineMaterial(object) {\n    if (isCompatible(object) === false) return;\n\n    if (Array.isArray(object.material)) {\n      for (let i = 0, il = object.material.length; i < il; i++) {\n        object.material[i] = getOutlineMaterial(object.material[i]);\n      }\n    } else {\n      object.material = getOutlineMaterial(object.material);\n    }\n\n    originalOnBeforeRenders[object.uuid] = object.onBeforeRender;\n    object.onBeforeRender = onBeforeRender;\n  }\n\n  function restoreOriginalMaterial(object) {\n    if (isCompatible(object) === false) return;\n\n    if (Array.isArray(object.material)) {\n      for (let i = 0, il = object.material.length; i < il; i++) {\n        object.material[i] = originalMaterials[object.material[i].uuid];\n      }\n    } else {\n      object.material = originalMaterials[object.material.uuid];\n    }\n\n    object.onBeforeRender = originalOnBeforeRenders[object.uuid];\n  }\n\n  function onBeforeRender(renderer, scene, camera, geometry, material) {\n    const originalMaterial = originalMaterials[material.uuid]; // just in case\n\n    if (originalMaterial === undefined) return;\n    updateUniforms(material, originalMaterial);\n  }\n\n  function updateUniforms(material, originalMaterial) {\n    const outlineParameters = originalMaterial.userData.outlineParameters;\n    material.uniforms.outlineAlpha.value = originalMaterial.opacity;\n\n    if (outlineParameters !== undefined) {\n      if (outlineParameters.thickness !== undefined) material.uniforms.outlineThickness.value = outlineParameters.thickness;\n      if (outlineParameters.color !== undefined) material.uniforms.outlineColor.value.fromArray(outlineParameters.color);\n      if (outlineParameters.alpha !== undefined) material.uniforms.outlineAlpha.value = outlineParameters.alpha;\n    }\n\n    if (originalMaterial.displacementMap) {\n      material.uniforms.displacementMap.value = originalMaterial.displacementMap;\n      material.uniforms.displacementScale.value = originalMaterial.displacementScale;\n      material.uniforms.displacementBias.value = originalMaterial.displacementBias;\n    }\n  }\n\n  function updateOutlineMaterial(material, originalMaterial) {\n    if (material.name === 'invisible') return;\n    const outlineParameters = originalMaterial.userData.outlineParameters;\n    material.skinning = originalMaterial.skinning;\n    material.morphTargets = originalMaterial.morphTargets;\n    material.morphNormals = originalMaterial.morphNormals;\n    material.fog = originalMaterial.fog;\n    material.toneMapped = originalMaterial.toneMapped;\n    material.premultipliedAlpha = originalMaterial.premultipliedAlpha;\n    material.displacementMap = originalMaterial.displacementMap;\n\n    if (outlineParameters !== undefined) {\n      if (originalMaterial.visible === false) {\n        material.visible = false;\n      } else {\n        material.visible = outlineParameters.visible !== undefined ? outlineParameters.visible : true;\n      }\n\n      material.transparent = outlineParameters.alpha !== undefined && outlineParameters.alpha < 1.0 ? true : originalMaterial.transparent;\n      if (outlineParameters.keepAlive !== undefined) cache[originalMaterial.uuid].keepAlive = outlineParameters.keepAlive;\n    } else {\n      material.transparent = originalMaterial.transparent;\n      material.visible = originalMaterial.visible;\n    }\n\n    if (originalMaterial.wireframe === true || originalMaterial.depthTest === false) material.visible = false;\n\n    if (originalMaterial.clippingPlanes) {\n      material.clipping = true;\n      material.clippingPlanes = originalMaterial.clippingPlanes;\n      material.clipIntersection = originalMaterial.clipIntersection;\n      material.clipShadows = originalMaterial.clipShadows;\n    }\n\n    material.version = originalMaterial.version; // update outline material if necessary\n  }\n\n  function cleanupCache() {\n    let keys; // clear originialMaterials\n\n    keys = Object.keys(originalMaterials);\n\n    for (let i = 0, il = keys.length; i < il; i++) {\n      originalMaterials[keys[i]] = undefined;\n    } // clear originalOnBeforeRenders\n\n\n    keys = Object.keys(originalOnBeforeRenders);\n\n    for (let i = 0, il = keys.length; i < il; i++) {\n      originalOnBeforeRenders[keys[i]] = undefined;\n    } // remove unused outlineMaterial from cache\n\n\n    keys = Object.keys(cache);\n\n    for (let i = 0, il = keys.length; i < il; i++) {\n      const key = keys[i];\n\n      if (cache[key].used === false) {\n        cache[key].count++;\n\n        if (cache[key].keepAlive === false && cache[key].count > removeThresholdCount) {\n          delete cache[key];\n        }\n      } else {\n        cache[key].used = false;\n        cache[key].count = 0;\n      }\n    }\n  }\n\n  this.render = function (scene, camera) {\n    let renderTarget;\n    let forceClear = false;\n\n    if (arguments[2] !== undefined) {\n      console.warn('THREE.OutlineEffect.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.');\n      renderTarget = arguments[2];\n    }\n\n    if (arguments[3] !== undefined) {\n      console.warn('THREE.OutlineEffect.render(): the forceClear argument has been removed. Use .clear() instead.');\n      forceClear = arguments[3];\n    }\n\n    if (renderTarget !== undefined) renderer.setRenderTarget(renderTarget);\n    if (forceClear) renderer.clear();\n\n    if (this.enabled === false) {\n      renderer.render(scene, camera);\n      return;\n    }\n\n    const currentAutoClear = renderer.autoClear;\n    renderer.autoClear = this.autoClear;\n    renderer.render(scene, camera);\n    renderer.autoClear = currentAutoClear;\n    this.renderOutline(scene, camera);\n  };\n\n  this.renderOutline = (scene, camera) => {\n    const currentAutoClear = renderer.autoClear;\n    const currentSceneAutoUpdate = scene.autoUpdate;\n    const currentSceneBackground = scene.background;\n    const currentShadowMapEnabled = renderer.shadowMap.enabled;\n    scene.autoUpdate = false;\n    scene.background = null;\n    renderer.autoClear = false;\n    renderer.shadowMap.enabled = false;\n    scene.traverse(setOutlineMaterial);\n    renderer.render(scene, camera);\n    scene.traverse(restoreOriginalMaterial);\n    cleanupCache();\n    scene.autoUpdate = currentSceneAutoUpdate;\n    scene.background = currentSceneBackground;\n    renderer.autoClear = currentAutoClear;\n    renderer.shadowMap.enabled = currentShadowMapEnabled;\n  };\n  /*\n   * See #9918\n   *\n   * The following property copies and wrapper methods enable\n   * OutlineEffect to be called from other *Effect, like\n   *\n   * effect = new StereoEffect( new OutlineEffect( renderer ) );\n   *\n   * function render () {\n   *\n   * \teffect.render( scene, camera );\n   *\n   * }\n   */\n\n\n  this.autoClear = renderer.autoClear;\n  this.domElement = renderer.domElement;\n  this.shadowMap = renderer.shadowMap;\n\n  this.clear = (color, depth, stencil) => {\n    renderer.clear(color, depth, stencil);\n  };\n\n  this.getPixelRatio = () => renderer.getPixelRatio();\n\n  this.setPixelRatio = value => {\n    renderer.setPixelRatio(value);\n  };\n\n  this.getSize = target => renderer.getSize(target);\n\n  this.setSize = (width, height, updateStyle) => {\n    renderer.setSize(width, height, updateStyle);\n  };\n\n  this.setViewport = (x, y, width, height) => {\n    renderer.setViewport(x, y, width, height);\n  };\n\n  this.setScissor = (x, y, width, height) => {\n    renderer.setScissor(x, y, width, height);\n  };\n\n  this.setScissorTest = boolean => {\n    renderer.setScissorTest(boolean);\n  };\n\n  this.setRenderTarget = renderTarget => {\n    renderer.setRenderTarget(renderTarget);\n  };\n};\n\nexport { OutlineEffect };\n","import { Loader, LoaderUtils, FileLoader, Color, SpotLight, PointLight, DirectionalLight, MeshBasicMaterial, MeshPhysicalMaterial, Vector2, sRGBEncoding, TangentSpaceNormalMap, ImageBitmapLoader, TextureLoader, InterleavedBuffer, InterleavedBufferAttribute, BufferAttribute, RGBFormat, LinearFilter, LinearMipmapLinearFilter, RepeatWrapping, PointsMaterial, Material, LineBasicMaterial, MeshStandardMaterial, DoubleSide, PropertyBinding, BufferGeometry, SkinnedMesh, Mesh, LineSegments, Line, LineLoop, Points, Group, PerspectiveCamera, MathUtils, OrthographicCamera, InterpolateLinear, AnimationClip, Bone, Object3D, Matrix4, Skeleton, TriangleFanDrawMode, Interpolant, NearestFilter, NearestMipmapNearestFilter, LinearMipmapNearestFilter, NearestMipmapLinearFilter, ClampToEdgeWrapping, MirroredRepeatWrapping, InterpolateDiscrete, FrontSide, Texture, TriangleStripDrawMode, VectorKeyframeTrack, QuaternionKeyframeTrack, NumberKeyframeTrack, Box3, Vector3, Sphere } from 'three';\n\nclass GLTFLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.dracoLoader = null;\n    this.ktx2Loader = null;\n    this.meshoptDecoder = null;\n    this.pluginCallbacks = [];\n    this.register(function (parser) {\n      return new GLTFMaterialsClearcoatExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFTextureBasisUExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFTextureWebPExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsTransmissionExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsVolumeExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsIorExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsSpecularExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFLightsExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMeshoptCompression(parser);\n    });\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const scope = this;\n    let resourcePath;\n\n    if (this.resourcePath !== '') {\n      resourcePath = this.resourcePath;\n    } else if (this.path !== '') {\n      resourcePath = this.path;\n    } else {\n      resourcePath = LoaderUtils.extractUrlBase(url);\n    } // Tells the LoadingManager to track an extra item, which resolves after\n    // the model is fully loaded. This means the count of items loaded will\n    // be incorrect, but ensures manager.onLoad() does not fire early.\n\n\n    this.manager.itemStart(url);\n\n    const _onError = function (e) {\n      if (onError) {\n        onError(e);\n      } else {\n        console.error(e);\n      }\n\n      scope.manager.itemError(url);\n      scope.manager.itemEnd(url);\n    };\n\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setResponseType('arraybuffer');\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(url, function (data) {\n      try {\n        scope.parse(data, resourcePath, function (gltf) {\n          onLoad(gltf);\n          scope.manager.itemEnd(url);\n        }, _onError);\n      } catch (e) {\n        _onError(e);\n      }\n    }, onProgress, _onError);\n  }\n\n  setDRACOLoader(dracoLoader) {\n    this.dracoLoader = dracoLoader;\n    return this;\n  }\n\n  setDDSLoader() {\n    throw new Error('THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".');\n  }\n\n  setKTX2Loader(ktx2Loader) {\n    this.ktx2Loader = ktx2Loader;\n    return this;\n  }\n\n  setMeshoptDecoder(meshoptDecoder) {\n    this.meshoptDecoder = meshoptDecoder;\n    return this;\n  }\n\n  register(callback) {\n    if (this.pluginCallbacks.indexOf(callback) === -1) {\n      this.pluginCallbacks.push(callback);\n    }\n\n    return this;\n  }\n\n  unregister(callback) {\n    if (this.pluginCallbacks.indexOf(callback) !== -1) {\n      this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1);\n    }\n\n    return this;\n  }\n\n  parse(data, path, onLoad, onError) {\n    let content;\n    const extensions = {};\n    const plugins = {};\n\n    if (typeof data === 'string') {\n      content = data;\n    } else {\n      const magic = LoaderUtils.decodeText(new Uint8Array(data, 0, 4));\n\n      if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n        try {\n          extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);\n        } catch (error) {\n          if (onError) onError(error);\n          return;\n        }\n\n        content = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;\n      } else {\n        content = LoaderUtils.decodeText(new Uint8Array(data));\n      }\n    }\n\n    const json = JSON.parse(content);\n\n    if (json.asset === undefined || json.asset.version[0] < 2) {\n      if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'));\n      return;\n    }\n\n    const parser = new GLTFParser(json, {\n      path: path || this.resourcePath || '',\n      crossOrigin: this.crossOrigin,\n      requestHeader: this.requestHeader,\n      manager: this.manager,\n      ktx2Loader: this.ktx2Loader,\n      meshoptDecoder: this.meshoptDecoder\n    });\n    parser.fileLoader.setRequestHeader(this.requestHeader);\n\n    for (let i = 0; i < this.pluginCallbacks.length; i++) {\n      const plugin = this.pluginCallbacks[i](parser);\n      plugins[plugin.name] = plugin; // Workaround to avoid determining as unknown extension\n      // in addUnknownExtensionsToUserData().\n      // Remove this workaround if we move all the existing\n      // extension handlers to plugin system\n\n      extensions[plugin.name] = true;\n    }\n\n    if (json.extensionsUsed) {\n      for (let i = 0; i < json.extensionsUsed.length; ++i) {\n        const extensionName = json.extensionsUsed[i];\n        const extensionsRequired = json.extensionsRequired || [];\n\n        switch (extensionName) {\n          case EXTENSIONS.KHR_MATERIALS_UNLIT:\n            extensions[extensionName] = new GLTFMaterialsUnlitExtension();\n            break;\n\n          case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n            extensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n            break;\n\n          case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n            extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);\n            break;\n\n          case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n            extensions[extensionName] = new GLTFTextureTransformExtension();\n            break;\n\n          case EXTENSIONS.KHR_MESH_QUANTIZATION:\n            extensions[extensionName] = new GLTFMeshQuantizationExtension();\n            break;\n\n          default:\n            if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {\n              console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".');\n            }\n\n        }\n      }\n    }\n\n    parser.setExtensions(extensions);\n    parser.setPlugins(plugins);\n    parser.parse(onLoad, onError);\n  }\n\n}\n/* GLTFREGISTRY */\n\n\nfunction GLTFRegistry() {\n  let objects = {};\n  return {\n    get: function (key) {\n      return objects[key];\n    },\n    add: function (key, object) {\n      objects[key] = object;\n    },\n    remove: function (key) {\n      delete objects[key];\n    },\n    removeAll: function () {\n      objects = {};\n    }\n  };\n}\n/*********************************/\n\n/********** EXTENSIONS ***********/\n\n/*********************************/\n\n\nconst EXTENSIONS = {\n  KHR_BINARY_GLTF: 'KHR_binary_glTF',\n  KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n  KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n  KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n  KHR_MATERIALS_IOR: 'KHR_materials_ior',\n  KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n  KHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n  KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n  KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n  KHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n  KHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n  KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n  KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n  EXT_TEXTURE_WEBP: 'EXT_texture_webp',\n  EXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\n\nclass GLTFLightsExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL; // Object3D instance caches\n\n    this.cache = {\n      refs: {},\n      uses: {}\n    };\n  }\n\n  _markDefs() {\n    const parser = this.parser;\n    const nodeDefs = this.parser.json.nodes || [];\n\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex];\n\n      if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {\n        parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light);\n      }\n    }\n  }\n\n  _loadLight(lightIndex) {\n    const parser = this.parser;\n    const cacheKey = 'light:' + lightIndex;\n    let dependency = parser.cache.get(cacheKey);\n    if (dependency) return dependency;\n    const json = parser.json;\n    const extensions = json.extensions && json.extensions[this.name] || {};\n    const lightDefs = extensions.lights || [];\n    const lightDef = lightDefs[lightIndex];\n    let lightNode;\n    const color = new Color(0xffffff);\n    if (lightDef.color !== undefined) color.fromArray(lightDef.color);\n    const range = lightDef.range !== undefined ? lightDef.range : 0;\n\n    switch (lightDef.type) {\n      case 'directional':\n        lightNode = new DirectionalLight(color);\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n\n      case 'point':\n        lightNode = new PointLight(color);\n        lightNode.distance = range;\n        break;\n\n      case 'spot':\n        lightNode = new SpotLight(color);\n        lightNode.distance = range; // Handle spotlight properties.\n\n        lightDef.spot = lightDef.spot || {};\n        lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n        lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n        lightNode.angle = lightDef.spot.outerConeAngle;\n        lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n\n      default:\n        throw new Error('THREE.GLTFLoader: Unexpected light type: ' + lightDef.type);\n    } // Some lights (e.g. spot) default to a position other than the origin. Reset the position\n    // here, because node-level parsing will only override position if explicitly specified.\n\n\n    lightNode.position.set(0, 0, 0);\n    lightNode.decay = 2;\n    if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;\n    lightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex);\n    dependency = Promise.resolve(lightNode);\n    parser.cache.add(cacheKey, dependency);\n    return dependency;\n  }\n\n  createNodeAttachment(nodeIndex) {\n    const self = this;\n    const parser = this.parser;\n    const json = parser.json;\n    const nodeDef = json.nodes[nodeIndex];\n    const lightDef = nodeDef.extensions && nodeDef.extensions[this.name] || {};\n    const lightIndex = lightDef.light;\n    if (lightIndex === undefined) return null;\n    return this._loadLight(lightIndex).then(function (light) {\n      return parser._getNodeRef(self.cache, lightIndex, light);\n    });\n  }\n\n}\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\n\n\nclass GLTFMaterialsUnlitExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n  }\n\n  getMaterialType() {\n    return MeshBasicMaterial;\n  }\n\n  extendParams(materialParams, materialDef, parser) {\n    const pending = [];\n    materialParams.color = new Color(1.0, 1.0, 1.0);\n    materialParams.opacity = 1.0;\n    const metallicRoughness = materialDef.pbrMetallicRoughness;\n\n    if (metallicRoughness) {\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n      }\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\n\n\nclass GLTFMaterialsClearcoatExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n\n    if (extension.clearcoatFactor !== undefined) {\n      materialParams.clearcoat = extension.clearcoatFactor;\n    }\n\n    if (extension.clearcoatTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture));\n    }\n\n    if (extension.clearcoatRoughnessFactor !== undefined) {\n      materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n    }\n\n    if (extension.clearcoatRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture));\n    }\n\n    if (extension.clearcoatNormalTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture));\n\n      if (extension.clearcoatNormalTexture.scale !== undefined) {\n        const scale = extension.clearcoatNormalTexture.scale; // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\n        materialParams.clearcoatNormalScale = new Vector2(scale, -scale);\n      }\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\n\n\nclass GLTFMaterialsTransmissionExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n\n    if (extension.transmissionFactor !== undefined) {\n      materialParams.transmission = extension.transmissionFactor;\n    }\n\n    if (extension.transmissionTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture));\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\n\n\nclass GLTFMaterialsVolumeExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    materialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n    if (extension.thicknessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'thicknessMap', extension.thicknessTexture));\n    }\n\n    materialParams.attenuationDistance = extension.attenuationDistance || 0;\n    const colorArray = extension.attenuationColor || [1, 1, 1];\n    materialParams.attenuationTint = new Color(colorArray[0], colorArray[1], colorArray[2]);\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\n\n\nclass GLTFMaterialsIorExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_IOR;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const extension = materialDef.extensions[this.name];\n    materialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n    return Promise.resolve();\n  }\n\n}\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\n\n\nclass GLTFMaterialsSpecularExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    materialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n    if (extension.specularTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'specularIntensityMap', extension.specularTexture));\n    }\n\n    const colorArray = extension.specularColorFactor || [1, 1, 1];\n    materialParams.specularTint = new Color(colorArray[0], colorArray[1], colorArray[2]);\n\n    if (extension.specularColorTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'specularTintMap', extension.specularColorTexture).then(function (texture) {\n        texture.encoding = sRGBEncoding;\n      }));\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\n\n\nclass GLTFTextureBasisUExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n  }\n\n  loadTexture(textureIndex) {\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n      return null;\n    }\n\n    const extension = textureDef.extensions[this.name];\n    const source = json.images[extension.source];\n    const loader = parser.options.ktx2Loader;\n\n    if (!loader) {\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n        throw new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures');\n      } else {\n        // Assumes that the extension is optional and that a fallback texture is present\n        return null;\n      }\n    }\n\n    return parser.loadTextureImage(textureIndex, source, loader);\n  }\n\n}\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\n\n\nclass GLTFTextureWebPExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n    this.isSupported = null;\n  }\n\n  loadTexture(textureIndex) {\n    const name = this.name;\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null;\n    }\n\n    const extension = textureDef.extensions[name];\n    const source = json.images[extension.source];\n    let loader = parser.textureLoader;\n\n    if (source.uri) {\n      const handler = parser.options.manager.getHandler(source.uri);\n      if (handler !== null) loader = handler;\n    }\n\n    return this.detectSupport().then(function (isSupported) {\n      if (isSupported) return parser.loadTextureImage(textureIndex, source, loader);\n\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error('THREE.GLTFLoader: WebP required by asset but unsupported.');\n      } // Fall back to PNG or JPEG.\n\n\n      return parser.loadTexture(textureIndex);\n    });\n  }\n\n  detectSupport() {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function (resolve) {\n        const image = new Image(); // Lossy test image. Support for lossy images doesn't guarantee support for all\n        // WebP images, unfortunately.\n\n        image.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n        image.onload = image.onerror = function () {\n          resolve(image.height === 1);\n        };\n      });\n    }\n\n    return this.isSupported;\n  }\n\n}\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\n\n\nclass GLTFMeshoptCompression {\n  constructor(parser) {\n    this.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n    this.parser = parser;\n  }\n\n  loadBufferView(index) {\n    const json = this.parser.json;\n    const bufferView = json.bufferViews[index];\n\n    if (bufferView.extensions && bufferView.extensions[this.name]) {\n      const extensionDef = bufferView.extensions[this.name];\n      const buffer = this.parser.getDependency('buffer', extensionDef.buffer);\n      const decoder = this.parser.options.meshoptDecoder;\n\n      if (!decoder || !decoder.supported) {\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n          throw new Error('THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files');\n        } else {\n          // Assumes that the extension is optional and that fallback buffer data is present\n          return null;\n        }\n      }\n\n      return Promise.all([buffer, decoder.ready]).then(function (res) {\n        const byteOffset = extensionDef.byteOffset || 0;\n        const byteLength = extensionDef.byteLength || 0;\n        const count = extensionDef.count;\n        const stride = extensionDef.byteStride;\n        const result = new ArrayBuffer(count * stride);\n        const source = new Uint8Array(res[0], byteOffset, byteLength);\n        decoder.decodeGltfBuffer(new Uint8Array(result), count, stride, source, extensionDef.mode, extensionDef.filter);\n        return result;\n      });\n    } else {\n      return null;\n    }\n  }\n\n}\n/* BINARY EXTENSION */\n\n\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = {\n  JSON: 0x4e4f534a,\n  BIN: 0x004e4942\n};\n\nclass GLTFBinaryExtension {\n  constructor(data) {\n    this.name = EXTENSIONS.KHR_BINARY_GLTF;\n    this.content = null;\n    this.body = null;\n    const headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);\n    this.header = {\n      magic: LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),\n      version: headerView.getUint32(4, true),\n      length: headerView.getUint32(8, true)\n    };\n\n    if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n      throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');\n    } else if (this.header.version < 2.0) {\n      throw new Error('THREE.GLTFLoader: Legacy binary file detected.');\n    }\n\n    const chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n    const chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);\n    let chunkIndex = 0;\n\n    while (chunkIndex < chunkContentsLength) {\n      const chunkLength = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n      const chunkType = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n\n      if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n        const contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);\n        this.content = LoaderUtils.decodeText(contentArray);\n      } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n        const byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n        this.body = data.slice(byteOffset, byteOffset + chunkLength);\n      } // Clients must ignore chunks with unknown types.\n\n\n      chunkIndex += chunkLength;\n    }\n\n    if (this.content === null) {\n      throw new Error('THREE.GLTFLoader: JSON content not found.');\n    }\n  }\n\n}\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\n\n\nclass GLTFDracoMeshCompressionExtension {\n  constructor(json, dracoLoader) {\n    if (!dracoLoader) {\n      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');\n    }\n\n    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n    this.json = json;\n    this.dracoLoader = dracoLoader;\n    this.dracoLoader.preload();\n  }\n\n  decodePrimitive(primitive, parser) {\n    const json = this.json;\n    const dracoLoader = this.dracoLoader;\n    const bufferViewIndex = primitive.extensions[this.name].bufferView;\n    const gltfAttributeMap = primitive.extensions[this.name].attributes;\n    const threeAttributeMap = {};\n    const attributeNormalizedMap = {};\n    const attributeTypeMap = {};\n\n    for (const attributeName in gltfAttributeMap) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n      threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];\n    }\n\n    for (const attributeName in primitive.attributes) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n\n      if (gltfAttributeMap[attributeName] !== undefined) {\n        const accessorDef = json.accessors[primitive.attributes[attributeName]];\n        const componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n        attributeTypeMap[threeAttributeName] = componentType;\n        attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true;\n      }\n    }\n\n    return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {\n      return new Promise(function (resolve) {\n        dracoLoader.decodeDracoFile(bufferView, function (geometry) {\n          for (const attributeName in geometry.attributes) {\n            const attribute = geometry.attributes[attributeName];\n            const normalized = attributeNormalizedMap[attributeName];\n            if (normalized !== undefined) attribute.normalized = normalized;\n          }\n\n          resolve(geometry);\n        }, threeAttributeMap, attributeTypeMap);\n      });\n    });\n  }\n\n}\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\n\n\nclass GLTFTextureTransformExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n  }\n\n  extendTexture(texture, transform) {\n    if (transform.texCoord !== undefined) {\n      console.warn('THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.');\n    }\n\n    if (transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined) {\n      // See https://github.com/mrdoob/three.js/issues/21819.\n      return texture;\n    }\n\n    texture = texture.clone();\n\n    if (transform.offset !== undefined) {\n      texture.offset.fromArray(transform.offset);\n    }\n\n    if (transform.rotation !== undefined) {\n      texture.rotation = transform.rotation;\n    }\n\n    if (transform.scale !== undefined) {\n      texture.repeat.fromArray(transform.scale);\n    }\n\n    texture.needsUpdate = true;\n    return texture;\n  }\n\n}\n/**\n * Specular-Glossiness Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n */\n\n/**\n * A sub class of StandardMaterial with some of the functionality\n * changed via the `onBeforeCompile` callback\n * @pailhead\n */\n\n\nclass GLTFMeshStandardSGMaterial extends MeshStandardMaterial {\n  constructor(params) {\n    super();\n    this.isGLTFSpecularGlossinessMaterial = true; //various chunks that need replacing\n\n    const specularMapParsFragmentChunk = ['#ifdef USE_SPECULARMAP', '\tuniform sampler2D specularMap;', '#endif'].join('\\n');\n    const glossinessMapParsFragmentChunk = ['#ifdef USE_GLOSSINESSMAP', '\tuniform sampler2D glossinessMap;', '#endif'].join('\\n');\n    const specularMapFragmentChunk = ['vec3 specularFactor = specular;', '#ifdef USE_SPECULARMAP', '\tvec4 texelSpecular = texture2D( specularMap, vUv );', '\ttexelSpecular = sRGBToLinear( texelSpecular );', '\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tspecularFactor *= texelSpecular.rgb;', '#endif'].join('\\n');\n    const glossinessMapFragmentChunk = ['float glossinessFactor = glossiness;', '#ifdef USE_GLOSSINESSMAP', '\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );', '\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tglossinessFactor *= texelGlossiness.a;', '#endif'].join('\\n');\n    const lightPhysicalFragmentChunk = ['PhysicalMaterial material;', 'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );', 'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );', 'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );', 'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.', 'material.specularRoughness += geometryRoughness;', 'material.specularRoughness = min( material.specularRoughness, 1.0 );', 'material.specularColor = specularFactor;'].join('\\n');\n    const uniforms = {\n      specular: {\n        value: new Color().setHex(0xffffff)\n      },\n      glossiness: {\n        value: 1\n      },\n      specularMap: {\n        value: null\n      },\n      glossinessMap: {\n        value: null\n      }\n    };\n    this._extraUniforms = uniforms;\n\n    this.onBeforeCompile = function (shader) {\n      for (const uniformName in uniforms) {\n        shader.uniforms[uniformName] = uniforms[uniformName];\n      }\n\n      shader.fragmentShader = shader.fragmentShader.replace('uniform float roughness;', 'uniform vec3 specular;').replace('uniform float metalness;', 'uniform float glossiness;').replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk).replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk).replace('#include <roughnessmap_fragment>', specularMapFragmentChunk).replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk).replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);\n    };\n\n    Object.defineProperties(this, {\n      specular: {\n        get: function () {\n          return uniforms.specular.value;\n        },\n        set: function (v) {\n          uniforms.specular.value = v;\n        }\n      },\n      specularMap: {\n        get: function () {\n          return uniforms.specularMap.value;\n        },\n        set: function (v) {\n          uniforms.specularMap.value = v;\n\n          if (v) {\n            this.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n          } else {\n            delete this.defines.USE_SPECULARMAP;\n          }\n        }\n      },\n      glossiness: {\n        get: function () {\n          return uniforms.glossiness.value;\n        },\n        set: function (v) {\n          uniforms.glossiness.value = v;\n        }\n      },\n      glossinessMap: {\n        get: function () {\n          return uniforms.glossinessMap.value;\n        },\n        set: function (v) {\n          uniforms.glossinessMap.value = v;\n\n          if (v) {\n            this.defines.USE_GLOSSINESSMAP = '';\n            this.defines.USE_UV = '';\n          } else {\n            delete this.defines.USE_GLOSSINESSMAP;\n            delete this.defines.USE_UV;\n          }\n        }\n      }\n    });\n    delete this.metalness;\n    delete this.roughness;\n    delete this.metalnessMap;\n    delete this.roughnessMap;\n    this.setValues(params);\n  }\n\n  copy(source) {\n    super.copy(source);\n    this.specularMap = source.specularMap;\n    this.specular.copy(source.specular);\n    this.glossinessMap = source.glossinessMap;\n    this.glossiness = source.glossiness;\n    delete this.metalness;\n    delete this.roughness;\n    delete this.metalnessMap;\n    delete this.roughnessMap;\n    return this;\n  }\n\n}\n\nclass GLTFMaterialsPbrSpecularGlossinessExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n    this.specularGlossinessParams = ['color', 'map', 'lightMap', 'lightMapIntensity', 'aoMap', 'aoMapIntensity', 'emissive', 'emissiveIntensity', 'emissiveMap', 'bumpMap', 'bumpScale', 'normalMap', 'normalMapType', 'displacementMap', 'displacementScale', 'displacementBias', 'specularMap', 'specular', 'glossinessMap', 'glossiness', 'alphaMap', 'envMap', 'envMapIntensity', 'refractionRatio'];\n  }\n\n  getMaterialType() {\n    return GLTFMeshStandardSGMaterial;\n  }\n\n  extendParams(materialParams, materialDef, parser) {\n    const pbrSpecularGlossiness = materialDef.extensions[this.name];\n    materialParams.color = new Color(1.0, 1.0, 1.0);\n    materialParams.opacity = 1.0;\n    const pending = [];\n\n    if (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {\n      const array = pbrSpecularGlossiness.diffuseFactor;\n      materialParams.color.fromArray(array);\n      materialParams.opacity = array[3];\n    }\n\n    if (pbrSpecularGlossiness.diffuseTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture));\n    }\n\n    materialParams.emissive = new Color(0.0, 0.0, 0.0);\n    materialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n    materialParams.specular = new Color(1.0, 1.0, 1.0);\n\n    if (Array.isArray(pbrSpecularGlossiness.specularFactor)) {\n      materialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);\n    }\n\n    if (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {\n      const specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n      pending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));\n      pending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef));\n    }\n\n    return Promise.all(pending);\n  }\n\n  createMaterial(materialParams) {\n    const material = new GLTFMeshStandardSGMaterial(materialParams);\n    material.fog = true;\n    material.color = materialParams.color;\n    material.map = materialParams.map === undefined ? null : materialParams.map;\n    material.lightMap = null;\n    material.lightMapIntensity = 1.0;\n    material.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n    material.aoMapIntensity = 1.0;\n    material.emissive = materialParams.emissive;\n    material.emissiveIntensity = 1.0;\n    material.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n    material.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n    material.bumpScale = 1;\n    material.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n    material.normalMapType = TangentSpaceNormalMap;\n    if (materialParams.normalScale) material.normalScale = materialParams.normalScale;\n    material.displacementMap = null;\n    material.displacementScale = 1;\n    material.displacementBias = 0;\n    material.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n    material.specular = materialParams.specular;\n    material.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n    material.glossiness = materialParams.glossiness;\n    material.alphaMap = null;\n    material.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n    material.envMapIntensity = 1.0;\n    material.refractionRatio = 0.98;\n    return material;\n  }\n\n}\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\n\n\nclass GLTFMeshQuantizationExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n  }\n\n}\n/*********************************/\n\n/********** INTERPOLATION ********/\n\n/*********************************/\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\n\nclass GLTFCubicSplineInterpolant extends Interpolant {\n  constructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    super(parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n\n  copySampleValue_(index) {\n    // Copies a sample value to the result buffer. See description of glTF\n    // CUBICSPLINE values layout in interpolate_() function below.\n    const result = this.resultBuffer,\n          values = this.sampleValues,\n          valueSize = this.valueSize,\n          offset = index * valueSize * 3 + valueSize;\n\n    for (let i = 0; i !== valueSize; i++) {\n      result[i] = values[offset + i];\n    }\n\n    return result;\n  }\n\n}\n\nGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\nGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.interpolate_ = function (i1, t0, t, t1) {\n  const result = this.resultBuffer;\n  const values = this.sampleValues;\n  const stride = this.valueSize;\n  const stride2 = stride * 2;\n  const stride3 = stride * 3;\n  const td = t1 - t0;\n  const p = (t - t0) / td;\n  const pp = p * p;\n  const ppp = pp * p;\n  const offset1 = i1 * stride3;\n  const offset0 = offset1 - stride3;\n  const s2 = -2 * ppp + 3 * pp;\n  const s3 = ppp - pp;\n  const s0 = 1 - s2;\n  const s1 = s3 - pp + p; // Layout of keyframe output values for CUBICSPLINE animations:\n  //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\n  for (let i = 0; i !== stride; i++) {\n    const p0 = values[offset0 + i + stride]; // splineVertex_k\n\n    const m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)\n\n    const p1 = values[offset1 + i + stride]; // splineVertex_k+1\n\n    const m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n    result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n  }\n\n  return result;\n};\n/*********************************/\n\n/********** INTERNALS ************/\n\n/*********************************/\n\n/* CONSTANTS */\n\n\nconst WEBGL_CONSTANTS = {\n  FLOAT: 5126,\n  //FLOAT_MAT2: 35674,\n  FLOAT_MAT3: 35675,\n  FLOAT_MAT4: 35676,\n  FLOAT_VEC2: 35664,\n  FLOAT_VEC3: 35665,\n  FLOAT_VEC4: 35666,\n  LINEAR: 9729,\n  REPEAT: 10497,\n  SAMPLER_2D: 35678,\n  POINTS: 0,\n  LINES: 1,\n  LINE_LOOP: 2,\n  LINE_STRIP: 3,\n  TRIANGLES: 4,\n  TRIANGLE_STRIP: 5,\n  TRIANGLE_FAN: 6,\n  UNSIGNED_BYTE: 5121,\n  UNSIGNED_SHORT: 5123\n};\nconst WEBGL_COMPONENT_TYPES = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\nconst WEBGL_FILTERS = {\n  9728: NearestFilter,\n  9729: LinearFilter,\n  9984: NearestMipmapNearestFilter,\n  9985: LinearMipmapNearestFilter,\n  9986: NearestMipmapLinearFilter,\n  9987: LinearMipmapLinearFilter\n};\nconst WEBGL_WRAPPINGS = {\n  33071: ClampToEdgeWrapping,\n  33648: MirroredRepeatWrapping,\n  10497: RepeatWrapping\n};\nconst WEBGL_TYPE_SIZES = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\nconst ATTRIBUTES = {\n  POSITION: 'position',\n  NORMAL: 'normal',\n  TANGENT: 'tangent',\n  TEXCOORD_0: 'uv',\n  TEXCOORD_1: 'uv2',\n  COLOR_0: 'color',\n  WEIGHTS_0: 'skinWeight',\n  JOINTS_0: 'skinIndex'\n};\nconst PATH_PROPERTIES = {\n  scale: 'scale',\n  translation: 'position',\n  rotation: 'quaternion',\n  weights: 'morphTargetInfluences'\n};\nconst INTERPOLATION = {\n  CUBICSPLINE: undefined,\n  // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n  // keyframe track will be initialized with a default interpolation type, then modified.\n  LINEAR: InterpolateLinear,\n  STEP: InterpolateDiscrete\n};\nconst ALPHA_MODES = {\n  OPAQUE: 'OPAQUE',\n  MASK: 'MASK',\n  BLEND: 'BLEND'\n};\n/* UTILITY FUNCTIONS */\n\nfunction resolveURL(url, path) {\n  // Invalid URL\n  if (typeof url !== 'string' || url === '') return ''; // Host Relative URL\n\n  if (/^https?:\\/\\//i.test(path) && /^\\//.test(url)) {\n    path = path.replace(/(^https?:\\/\\/[^\\/]+).*/i, '$1');\n  } // Absolute URL http://,https://,//\n\n\n  if (/^(https?:)?\\/\\//i.test(url)) return url; // Data URI\n\n  if (/^data:.*,.*$/i.test(url)) return url; // Blob URL\n\n  if (/^blob:.*$/i.test(url)) return url; // Relative URL\n\n  return path + url;\n}\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\n\n\nfunction createDefaultMaterial(cache) {\n  if (cache['DefaultMaterial'] === undefined) {\n    cache['DefaultMaterial'] = new MeshStandardMaterial({\n      color: 0xffffff,\n      emissive: 0x000000,\n      metalness: 1,\n      roughness: 1,\n      transparent: false,\n      depthTest: true,\n      side: FrontSide\n    });\n  }\n\n  return cache['DefaultMaterial'];\n}\n\nfunction addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n  // Add unknown glTF extensions to an object's userData.\n  for (const name in objectDef.extensions) {\n    if (knownExtensions[name] === undefined) {\n      object.userData.gltfExtensions = object.userData.gltfExtensions || {};\n      object.userData.gltfExtensions[name] = objectDef.extensions[name];\n    }\n  }\n}\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\n\n\nfunction assignExtrasToUserData(object, gltfDef) {\n  if (gltfDef.extras !== undefined) {\n    if (typeof gltfDef.extras === 'object') {\n      Object.assign(object.userData, gltfDef.extras);\n    } else {\n      console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);\n    }\n  }\n}\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\n\n\nfunction addMorphTargets(geometry, targets, parser) {\n  let hasMorphPosition = false;\n  let hasMorphNormal = false;\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i];\n    if (target.POSITION !== undefined) hasMorphPosition = true;\n    if (target.NORMAL !== undefined) hasMorphNormal = true;\n    if (hasMorphPosition && hasMorphNormal) break;\n  }\n\n  if (!hasMorphPosition && !hasMorphNormal) return Promise.resolve(geometry);\n  const pendingPositionAccessors = [];\n  const pendingNormalAccessors = [];\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i];\n\n    if (hasMorphPosition) {\n      const pendingAccessor = target.POSITION !== undefined ? parser.getDependency('accessor', target.POSITION) : geometry.attributes.position;\n      pendingPositionAccessors.push(pendingAccessor);\n    }\n\n    if (hasMorphNormal) {\n      const pendingAccessor = target.NORMAL !== undefined ? parser.getDependency('accessor', target.NORMAL) : geometry.attributes.normal;\n      pendingNormalAccessors.push(pendingAccessor);\n    }\n  }\n\n  return Promise.all([Promise.all(pendingPositionAccessors), Promise.all(pendingNormalAccessors)]).then(function (accessors) {\n    const morphPositions = accessors[0];\n    const morphNormals = accessors[1];\n    if (hasMorphPosition) geometry.morphAttributes.position = morphPositions;\n    if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;\n    geometry.morphTargetsRelative = true;\n    return geometry;\n  });\n}\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\n\n\nfunction updateMorphTargets(mesh, meshDef) {\n  mesh.updateMorphTargets();\n\n  if (meshDef.weights !== undefined) {\n    for (let i = 0, il = meshDef.weights.length; i < il; i++) {\n      mesh.morphTargetInfluences[i] = meshDef.weights[i];\n    }\n  } // .extras has user-defined data, so check that .extras.targetNames is an array.\n\n\n  if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n    const targetNames = meshDef.extras.targetNames;\n\n    if (mesh.morphTargetInfluences.length === targetNames.length) {\n      mesh.morphTargetDictionary = {};\n\n      for (let i = 0, il = targetNames.length; i < il; i++) {\n        mesh.morphTargetDictionary[targetNames[i]] = i;\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');\n    }\n  }\n}\n\nfunction createPrimitiveKey(primitiveDef) {\n  const dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];\n  let geometryKey;\n\n  if (dracoExtension) {\n    geometryKey = 'draco:' + dracoExtension.bufferView + ':' + dracoExtension.indices + ':' + createAttributesKey(dracoExtension.attributes);\n  } else {\n    geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;\n  }\n\n  return geometryKey;\n}\n\nfunction createAttributesKey(attributes) {\n  let attributesKey = '';\n  const keys = Object.keys(attributes).sort();\n\n  for (let i = 0, il = keys.length; i < il; i++) {\n    attributesKey += keys[i] + ':' + attributes[keys[i]] + ';';\n  }\n\n  return attributesKey;\n}\n\nfunction getNormalizedComponentScale(constructor) {\n  // Reference:\n  // https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n  switch (constructor) {\n    case Int8Array:\n      return 1 / 127;\n\n    case Uint8Array:\n      return 1 / 255;\n\n    case Int16Array:\n      return 1 / 32767;\n\n    case Uint16Array:\n      return 1 / 65535;\n\n    default:\n      throw new Error('THREE.GLTFLoader: Unsupported normalized accessor component type.');\n  }\n}\n/* GLTF PARSER */\n\n\nclass GLTFParser {\n  constructor(json = {}, options = {}) {\n    this.json = json;\n    this.extensions = {};\n    this.plugins = {};\n    this.options = options; // loader object cache\n\n    this.cache = new GLTFRegistry(); // associations between Three.js objects and glTF elements\n\n    this.associations = new Map(); // BufferGeometry caching\n\n    this.primitiveCache = {}; // Object3D instance caches\n\n    this.meshCache = {\n      refs: {},\n      uses: {}\n    };\n    this.cameraCache = {\n      refs: {},\n      uses: {}\n    };\n    this.lightCache = {\n      refs: {},\n      uses: {}\n    };\n    this.textureCache = {}; // Track node names, to ensure no duplicates\n\n    this.nodeNamesUsed = {}; // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n    // expensive work of uploading a texture to the GPU off the main thread.\n\n    if (typeof createImageBitmap !== 'undefined' && /Firefox/.test(navigator.userAgent) === false) {\n      this.textureLoader = new ImageBitmapLoader(this.options.manager);\n    } else {\n      this.textureLoader = new TextureLoader(this.options.manager);\n    }\n\n    this.textureLoader.setCrossOrigin(this.options.crossOrigin);\n    this.textureLoader.setRequestHeader(this.options.requestHeader);\n    this.fileLoader = new FileLoader(this.options.manager);\n    this.fileLoader.setResponseType('arraybuffer');\n\n    if (this.options.crossOrigin === 'use-credentials') {\n      this.fileLoader.setWithCredentials(true);\n    }\n  }\n\n  setExtensions(extensions) {\n    this.extensions = extensions;\n  }\n\n  setPlugins(plugins) {\n    this.plugins = plugins;\n  }\n\n  parse(onLoad, onError) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions; // Clear the loader cache\n\n    this.cache.removeAll(); // Mark the special nodes/meshes in json for efficient parse\n\n    this._invokeAll(function (ext) {\n      return ext._markDefs && ext._markDefs();\n    });\n\n    Promise.all(this._invokeAll(function (ext) {\n      return ext.beforeRoot && ext.beforeRoot();\n    })).then(function () {\n      return Promise.all([parser.getDependencies('scene'), parser.getDependencies('animation'), parser.getDependencies('camera')]);\n    }).then(function (dependencies) {\n      const result = {\n        scene: dependencies[0][json.scene || 0],\n        scenes: dependencies[0],\n        animations: dependencies[1],\n        cameras: dependencies[2],\n        asset: json.asset,\n        parser: parser,\n        userData: {}\n      };\n      addUnknownExtensionsToUserData(extensions, result, json);\n      assignExtrasToUserData(result, json);\n      Promise.all(parser._invokeAll(function (ext) {\n        return ext.afterRoot && ext.afterRoot(result);\n      })).then(function () {\n        onLoad(result);\n      });\n    }).catch(onError);\n  }\n  /**\n   * Marks the special nodes/meshes in json for efficient parse.\n   */\n\n\n  _markDefs() {\n    const nodeDefs = this.json.nodes || [];\n    const skinDefs = this.json.skins || [];\n    const meshDefs = this.json.meshes || []; // Nothing in the node definition indicates whether it is a Bone or an\n    // Object3D. Use the skins' joint references to mark bones.\n\n    for (let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n      const joints = skinDefs[skinIndex].joints;\n\n      for (let i = 0, il = joints.length; i < il; i++) {\n        nodeDefs[joints[i]].isBone = true;\n      }\n    } // Iterate over all nodes, marking references to shared resources,\n    // as well as skeleton joints.\n\n\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex];\n\n      if (nodeDef.mesh !== undefined) {\n        this._addNodeRef(this.meshCache, nodeDef.mesh); // Nothing in the mesh definition indicates whether it is\n        // a SkinnedMesh or Mesh. Use the node's mesh reference\n        // to mark SkinnedMesh if node has skin.\n\n\n        if (nodeDef.skin !== undefined) {\n          meshDefs[nodeDef.mesh].isSkinnedMesh = true;\n        }\n      }\n\n      if (nodeDef.camera !== undefined) {\n        this._addNodeRef(this.cameraCache, nodeDef.camera);\n      }\n    }\n  }\n  /**\n   * Counts references to shared node / Object3D resources. These resources\n   * can be reused, or \"instantiated\", at multiple nodes in the scene\n   * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n   * be marked. Non-scenegraph resources (like Materials, Geometries, and\n   * Textures) can be reused directly and are not marked here.\n   *\n   * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n   */\n\n\n  _addNodeRef(cache, index) {\n    if (index === undefined) return;\n\n    if (cache.refs[index] === undefined) {\n      cache.refs[index] = cache.uses[index] = 0;\n    }\n\n    cache.refs[index]++;\n  }\n  /** Returns a reference to a shared resource, cloning it if necessary. */\n\n\n  _getNodeRef(cache, index, object) {\n    if (cache.refs[index] <= 1) return object;\n    const ref = object.clone();\n    ref.name += '_instance_' + cache.uses[index]++;\n    return ref;\n  }\n\n  _invokeOne(func) {\n    const extensions = Object.values(this.plugins);\n    extensions.push(this);\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i]);\n      if (result) return result;\n    }\n\n    return null;\n  }\n\n  _invokeAll(func) {\n    const extensions = Object.values(this.plugins);\n    extensions.unshift(this);\n    const pending = [];\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i]);\n      if (result) pending.push(result);\n    }\n\n    return pending;\n  }\n  /**\n   * Requests the specified dependency asynchronously, with caching.\n   * @param {string} type\n   * @param {number} index\n   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n   */\n\n\n  getDependency(type, index) {\n    const cacheKey = type + ':' + index;\n    let dependency = this.cache.get(cacheKey);\n\n    if (!dependency) {\n      switch (type) {\n        case 'scene':\n          dependency = this.loadScene(index);\n          break;\n\n        case 'node':\n          dependency = this.loadNode(index);\n          break;\n\n        case 'mesh':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMesh && ext.loadMesh(index);\n          });\n          break;\n\n        case 'accessor':\n          dependency = this.loadAccessor(index);\n          break;\n\n        case 'bufferView':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadBufferView && ext.loadBufferView(index);\n          });\n          break;\n\n        case 'buffer':\n          dependency = this.loadBuffer(index);\n          break;\n\n        case 'material':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMaterial && ext.loadMaterial(index);\n          });\n          break;\n\n        case 'texture':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadTexture && ext.loadTexture(index);\n          });\n          break;\n\n        case 'skin':\n          dependency = this.loadSkin(index);\n          break;\n\n        case 'animation':\n          dependency = this.loadAnimation(index);\n          break;\n\n        case 'camera':\n          dependency = this.loadCamera(index);\n          break;\n\n        default:\n          throw new Error('Unknown type: ' + type);\n      }\n\n      this.cache.add(cacheKey, dependency);\n    }\n\n    return dependency;\n  }\n  /**\n   * Requests all dependencies of the specified type asynchronously, with caching.\n   * @param {string} type\n   * @return {Promise<Array<Object>>}\n   */\n\n\n  getDependencies(type) {\n    let dependencies = this.cache.get(type);\n\n    if (!dependencies) {\n      const parser = this;\n      const defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];\n      dependencies = Promise.all(defs.map(function (def, index) {\n        return parser.getDependency(type, index);\n      }));\n      this.cache.add(type, dependencies);\n    }\n\n    return dependencies;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n\n\n  loadBuffer(bufferIndex) {\n    const bufferDef = this.json.buffers[bufferIndex];\n    const loader = this.fileLoader;\n\n    if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\n      throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');\n    } // If present, GLB container is required to be the first buffer.\n\n\n    if (bufferDef.uri === undefined && bufferIndex === 0) {\n      return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);\n    }\n\n    const options = this.options;\n    return new Promise(function (resolve, reject) {\n      loader.load(resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {\n        reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'));\n      });\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferViewIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n\n\n  loadBufferView(bufferViewIndex) {\n    const bufferViewDef = this.json.bufferViews[bufferViewIndex];\n    return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {\n      const byteLength = bufferViewDef.byteLength || 0;\n      const byteOffset = bufferViewDef.byteOffset || 0;\n      return buffer.slice(byteOffset, byteOffset + byteLength);\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n   * @param {number} accessorIndex\n   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n   */\n\n\n  loadAccessor(accessorIndex) {\n    const parser = this;\n    const json = this.json;\n    const accessorDef = this.json.accessors[accessorIndex];\n\n    if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\n      // Ignore empty accessors, which may be used to declare runtime\n      // information about attributes coming from another source (e.g. Draco\n      // compression extension).\n      return Promise.resolve(null);\n    }\n\n    const pendingBufferViews = [];\n\n    if (accessorDef.bufferView !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));\n    } else {\n      pendingBufferViews.push(null);\n    }\n\n    if (accessorDef.sparse !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));\n    }\n\n    return Promise.all(pendingBufferViews).then(function (bufferViews) {\n      const bufferView = bufferViews[0];\n      const itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\n      const TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]; // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\n      const elementBytes = TypedArray.BYTES_PER_ELEMENT;\n      const itemBytes = elementBytes * itemSize;\n      const byteOffset = accessorDef.byteOffset || 0;\n      const byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;\n      const normalized = accessorDef.normalized === true;\n      let array, bufferAttribute; // The buffer is not interleaved if the stride is the item size in bytes.\n\n      if (byteStride && byteStride !== itemBytes) {\n        // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n        // This makes sure that IBA.count reflects accessor.count properly\n        const ibSlice = Math.floor(byteOffset / byteStride);\n        const ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n        let ib = parser.cache.get(ibCacheKey);\n\n        if (!ib) {\n          array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes); // Integer parameters to IB/IBA are in array elements, not bytes.\n\n          ib = new InterleavedBuffer(array, byteStride / elementBytes);\n          parser.cache.add(ibCacheKey, ib);\n        }\n\n        bufferAttribute = new InterleavedBufferAttribute(ib, itemSize, byteOffset % byteStride / elementBytes, normalized);\n      } else {\n        if (bufferView === null) {\n          array = new TypedArray(accessorDef.count * itemSize);\n        } else {\n          array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);\n        }\n\n        bufferAttribute = new BufferAttribute(array, itemSize, normalized);\n      } // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\n\n      if (accessorDef.sparse !== undefined) {\n        const itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n        const TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];\n        const byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n        const byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n        const sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);\n        const sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);\n\n        if (bufferView !== null) {\n          // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n          bufferAttribute = new BufferAttribute(bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized);\n        }\n\n        for (let i = 0, il = sparseIndices.length; i < il; i++) {\n          const index = sparseIndices[i];\n          bufferAttribute.setX(index, sparseValues[i * itemSize]);\n          if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);\n          if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);\n          if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);\n          if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.');\n        }\n      }\n\n      return bufferAttribute;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n   * @param {number} textureIndex\n   * @return {Promise<THREE.Texture>}\n   */\n\n\n  loadTexture(textureIndex) {\n    const json = this.json;\n    const options = this.options;\n    const textureDef = json.textures[textureIndex];\n    const source = json.images[textureDef.source];\n    let loader = this.textureLoader;\n\n    if (source.uri) {\n      const handler = options.manager.getHandler(source.uri);\n      if (handler !== null) loader = handler;\n    }\n\n    return this.loadTextureImage(textureIndex, source, loader);\n  }\n\n  loadTextureImage(textureIndex, source, loader) {\n    const parser = this;\n    const json = this.json;\n    const options = this.options;\n    const textureDef = json.textures[textureIndex];\n    const cacheKey = (source.uri || source.bufferView) + ':' + textureDef.sampler;\n\n    if (this.textureCache[cacheKey]) {\n      // See https://github.com/mrdoob/three.js/issues/21559.\n      return this.textureCache[cacheKey];\n    }\n\n    const URL = self.URL || self.webkitURL;\n    let sourceURI = source.uri || '';\n    let isObjectURL = false;\n    let hasAlpha = true;\n    const isJPEG = sourceURI.search(/\\.jpe?g($|\\?)/i) > 0 || sourceURI.search(/^data\\:image\\/jpeg/) === 0;\n    if (source.mimeType === 'image/jpeg' || isJPEG) hasAlpha = false;\n\n    if (source.bufferView !== undefined) {\n      // Load binary image data from bufferView, if provided.\n      sourceURI = parser.getDependency('bufferView', source.bufferView).then(function (bufferView) {\n        if (source.mimeType === 'image/png') {\n          // Inspect the PNG 'IHDR' chunk to determine whether the image could have an\n          // alpha channel. This check is conservative — the image could have an alpha\n          // channel with all values == 1, and the indexed type (colorType == 3) only\n          // sometimes contains alpha.\n          //\n          // https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\n          const colorType = new DataView(bufferView, 25, 1).getUint8(0, false);\n          hasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\n        }\n\n        isObjectURL = true;\n        const blob = new Blob([bufferView], {\n          type: source.mimeType\n        });\n        sourceURI = URL.createObjectURL(blob);\n        return sourceURI;\n      });\n    } else if (source.uri === undefined) {\n      throw new Error('THREE.GLTFLoader: Image ' + textureIndex + ' is missing URI and bufferView');\n    }\n\n    const promise = Promise.resolve(sourceURI).then(function (sourceURI) {\n      return new Promise(function (resolve, reject) {\n        let onLoad = resolve;\n\n        if (loader.isImageBitmapLoader === true) {\n          onLoad = function (imageBitmap) {\n            const texture = new Texture(imageBitmap);\n            texture.needsUpdate = true;\n            resolve(texture);\n          };\n        }\n\n        loader.load(resolveURL(sourceURI, options.path), onLoad, undefined, reject);\n      });\n    }).then(function (texture) {\n      // Clean up resources and configure Texture.\n      if (isObjectURL === true) {\n        URL.revokeObjectURL(sourceURI);\n      }\n\n      texture.flipY = false;\n      if (textureDef.name) texture.name = textureDef.name; // When there is definitely no alpha channel in the texture, set RGBFormat to save space.\n\n      if (!hasAlpha) texture.format = RGBFormat;\n      const samplers = json.samplers || {};\n      const sampler = samplers[textureDef.sampler] || {};\n      texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || LinearFilter;\n      texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || LinearMipmapLinearFilter;\n      texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || RepeatWrapping;\n      texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || RepeatWrapping;\n      parser.associations.set(texture, {\n        type: 'textures',\n        index: textureIndex\n      });\n      return texture;\n    }).catch(function () {\n      console.error(\"THREE.GLTFLoader: Couldn't load texture\", sourceURI);\n      return null;\n    });\n    this.textureCache[cacheKey] = promise;\n    return promise;\n  }\n  /**\n   * Asynchronously assigns a texture to the given material parameters.\n   * @param {Object} materialParams\n   * @param {string} mapName\n   * @param {Object} mapDef\n   * @return {Promise<Texture>}\n   */\n\n\n  assignTexture(materialParams, mapName, mapDef) {\n    const parser = this;\n    return this.getDependency('texture', mapDef.index).then(function (texture) {\n      // Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n      // However, we will copy UV set 0 to UV set 1 on demand for aoMap\n      if (mapDef.texCoord !== undefined && mapDef.texCoord != 0 && !(mapName === 'aoMap' && mapDef.texCoord == 1)) {\n        console.warn('THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.');\n      }\n\n      if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n        const transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;\n\n        if (transform) {\n          const gltfReference = parser.associations.get(texture);\n          texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);\n          parser.associations.set(texture, gltfReference);\n        }\n      }\n\n      materialParams[mapName] = texture;\n      return texture;\n    });\n  }\n  /**\n   * Assigns final material to a Mesh, Line, or Points instance. The instance\n   * already has a material (generated from the glTF material options alone)\n   * but reuse of the same glTF material may require multiple threejs materials\n   * to accommodate different primitive types, defines, etc. New materials will\n   * be created if necessary, and reused from a cache.\n   * @param  {Object3D} mesh Mesh, Line, or Points instance.\n   */\n\n\n  assignFinalMaterial(mesh) {\n    const geometry = mesh.geometry;\n    let material = mesh.material;\n    const useVertexTangents = geometry.attributes.tangent !== undefined;\n    const useVertexColors = geometry.attributes.color !== undefined;\n    const useFlatShading = geometry.attributes.normal === undefined;\n\n    if (mesh.isPoints) {\n      const cacheKey = 'PointsMaterial:' + material.uuid;\n      let pointsMaterial = this.cache.get(cacheKey);\n\n      if (!pointsMaterial) {\n        pointsMaterial = new PointsMaterial();\n        Material.prototype.copy.call(pointsMaterial, material);\n        pointsMaterial.color.copy(material.color);\n        pointsMaterial.map = material.map;\n        pointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n        this.cache.add(cacheKey, pointsMaterial);\n      }\n\n      material = pointsMaterial;\n    } else if (mesh.isLine) {\n      const cacheKey = 'LineBasicMaterial:' + material.uuid;\n      let lineMaterial = this.cache.get(cacheKey);\n\n      if (!lineMaterial) {\n        lineMaterial = new LineBasicMaterial();\n        Material.prototype.copy.call(lineMaterial, material);\n        lineMaterial.color.copy(material.color);\n        this.cache.add(cacheKey, lineMaterial);\n      }\n\n      material = lineMaterial;\n    } // Clone the material if it will be modified\n\n\n    if (useVertexTangents || useVertexColors || useFlatShading) {\n      let cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n      if (material.isGLTFSpecularGlossinessMaterial) cacheKey += 'specular-glossiness:';\n      if (useVertexTangents) cacheKey += 'vertex-tangents:';\n      if (useVertexColors) cacheKey += 'vertex-colors:';\n      if (useFlatShading) cacheKey += 'flat-shading:';\n      let cachedMaterial = this.cache.get(cacheKey);\n\n      if (!cachedMaterial) {\n        cachedMaterial = material.clone();\n        if (useVertexColors) cachedMaterial.vertexColors = true;\n        if (useFlatShading) cachedMaterial.flatShading = true;\n\n        if (useVertexTangents) {\n          // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n          if (cachedMaterial.normalScale) cachedMaterial.normalScale.y *= -1;\n          if (cachedMaterial.clearcoatNormalScale) cachedMaterial.clearcoatNormalScale.y *= -1;\n        }\n\n        this.cache.add(cacheKey, cachedMaterial);\n        this.associations.set(cachedMaterial, this.associations.get(material));\n      }\n\n      material = cachedMaterial;\n    } // workarounds for mesh and geometry\n\n\n    if (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {\n      geometry.setAttribute('uv2', geometry.attributes.uv);\n    }\n\n    mesh.material = material;\n  }\n\n  getMaterialType()\n  /* materialIndex */\n  {\n    return MeshStandardMaterial;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n   * @param {number} materialIndex\n   * @return {Promise<Material>}\n   */\n\n\n  loadMaterial(materialIndex) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions;\n    const materialDef = json.materials[materialIndex];\n    let materialType;\n    const materialParams = {};\n    const materialExtensions = materialDef.extensions || {};\n    const pending = [];\n\n    if (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {\n      const sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];\n      materialType = sgExtension.getMaterialType();\n      pending.push(sgExtension.extendParams(materialParams, materialDef, parser));\n    } else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n      const kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];\n      materialType = kmuExtension.getMaterialType();\n      pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));\n    } else {\n      // Specification:\n      // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n      const metallicRoughness = materialDef.pbrMetallicRoughness || {};\n      materialParams.color = new Color(1.0, 1.0, 1.0);\n      materialParams.opacity = 1.0;\n\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n      }\n\n      materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n      materialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n      if (metallicRoughness.metallicRoughnessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));\n        pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));\n      }\n\n      materialType = this._invokeOne(function (ext) {\n        return ext.getMaterialType && ext.getMaterialType(materialIndex);\n      });\n      pending.push(Promise.all(this._invokeAll(function (ext) {\n        return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams);\n      })));\n    }\n\n    if (materialDef.doubleSided === true) {\n      materialParams.side = DoubleSide;\n    }\n\n    const alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n    if (alphaMode === ALPHA_MODES.BLEND) {\n      materialParams.transparent = true; // See: https://github.com/mrdoob/three.js/issues/17706\n\n      materialParams.depthWrite = false;\n    } else {\n      materialParams.transparent = false;\n\n      if (alphaMode === ALPHA_MODES.MASK) {\n        materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n      }\n    }\n\n    if (materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture)); // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\n      materialParams.normalScale = new Vector2(1, -1);\n\n      if (materialDef.normalTexture.scale !== undefined) {\n        materialParams.normalScale.set(materialDef.normalTexture.scale, -materialDef.normalTexture.scale);\n      }\n    }\n\n    if (materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));\n\n      if (materialDef.occlusionTexture.strength !== undefined) {\n        materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n      }\n    }\n\n    if (materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial) {\n      materialParams.emissive = new Color().fromArray(materialDef.emissiveFactor);\n    }\n\n    if (materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture));\n    }\n\n    return Promise.all(pending).then(function () {\n      let material;\n\n      if (materialType === GLTFMeshStandardSGMaterial) {\n        material = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);\n      } else {\n        material = new materialType(materialParams);\n      }\n\n      if (materialDef.name) material.name = materialDef.name; // baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\n      if (material.map) material.map.encoding = sRGBEncoding;\n      if (material.emissiveMap) material.emissiveMap.encoding = sRGBEncoding;\n      assignExtrasToUserData(material, materialDef);\n      parser.associations.set(material, {\n        type: 'materials',\n        index: materialIndex\n      });\n      if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);\n      return material;\n    });\n  }\n  /** When Object3D instances are targeted by animation, they need unique names. */\n\n\n  createUniqueName(originalName) {\n    const sanitizedName = PropertyBinding.sanitizeNodeName(originalName || '');\n    let name = sanitizedName;\n\n    for (let i = 1; this.nodeNamesUsed[name]; ++i) {\n      name = sanitizedName + '_' + i;\n    }\n\n    this.nodeNamesUsed[name] = true;\n    return name;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n   *\n   * Creates BufferGeometries from primitives.\n   *\n   * @param {Array<GLTF.Primitive>} primitives\n   * @return {Promise<Array<BufferGeometry>>}\n   */\n\n\n  loadGeometries(primitives) {\n    const parser = this;\n    const extensions = this.extensions;\n    const cache = this.primitiveCache;\n\n    function createDracoPrimitive(primitive) {\n      return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(primitive, parser).then(function (geometry) {\n        return addPrimitiveAttributes(geometry, primitive, parser);\n      });\n    }\n\n    const pending = [];\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const primitive = primitives[i];\n      const cacheKey = createPrimitiveKey(primitive); // See if we've already created this geometry\n\n      const cached = cache[cacheKey];\n\n      if (cached) {\n        // Use the cached geometry if it exists\n        pending.push(cached.promise);\n      } else {\n        let geometryPromise;\n\n        if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n          // Use DRACO geometry if available\n          geometryPromise = createDracoPrimitive(primitive);\n        } else {\n          // Otherwise create a new geometry\n          geometryPromise = addPrimitiveAttributes(new BufferGeometry(), primitive, parser);\n        } // Cache this geometry\n\n\n        cache[cacheKey] = {\n          primitive: primitive,\n          promise: geometryPromise\n        };\n        pending.push(geometryPromise);\n      }\n    }\n\n    return Promise.all(pending);\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n   * @param {number} meshIndex\n   * @return {Promise<Group|Mesh|SkinnedMesh>}\n   */\n\n\n  loadMesh(meshIndex) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions;\n    const meshDef = json.meshes[meshIndex];\n    const primitives = meshDef.primitives;\n    const pending = [];\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const material = primitives[i].material === undefined ? createDefaultMaterial(this.cache) : this.getDependency('material', primitives[i].material);\n      pending.push(material);\n    }\n\n    pending.push(parser.loadGeometries(primitives));\n    return Promise.all(pending).then(function (results) {\n      const materials = results.slice(0, results.length - 1);\n      const geometries = results[results.length - 1];\n      const meshes = [];\n\n      for (let i = 0, il = geometries.length; i < il; i++) {\n        const geometry = geometries[i];\n        const primitive = primitives[i]; // 1. create Mesh\n\n        let mesh;\n        const material = materials[i];\n\n        if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN || primitive.mode === undefined) {\n          // .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n          mesh = meshDef.isSkinnedMesh === true ? new SkinnedMesh(geometry, material) : new Mesh(geometry, material);\n\n          if (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {\n            // we normalize floating point skin weight array to fix malformed assets (see #15319)\n            // it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n            mesh.normalizeSkinWeights();\n          }\n\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleStripDrawMode);\n          } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleFanDrawMode);\n          }\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n          mesh = new LineSegments(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n          mesh = new Line(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n          mesh = new LineLoop(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n          mesh = new Points(geometry, material);\n        } else {\n          throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);\n        }\n\n        if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n          updateMorphTargets(mesh, meshDef);\n        }\n\n        mesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex);\n        assignExtrasToUserData(mesh, meshDef);\n        if (primitive.extensions) addUnknownExtensionsToUserData(extensions, mesh, primitive);\n        parser.assignFinalMaterial(mesh);\n        meshes.push(mesh);\n      }\n\n      if (meshes.length === 1) {\n        return meshes[0];\n      }\n\n      const group = new Group();\n\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        group.add(meshes[i]);\n      }\n\n      return group;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n   * @param {number} cameraIndex\n   * @return {Promise<THREE.Camera>}\n   */\n\n\n  loadCamera(cameraIndex) {\n    let camera;\n    const cameraDef = this.json.cameras[cameraIndex];\n    const params = cameraDef[cameraDef.type];\n\n    if (!params) {\n      console.warn('THREE.GLTFLoader: Missing camera parameters.');\n      return;\n    }\n\n    if (cameraDef.type === 'perspective') {\n      camera = new PerspectiveCamera(MathUtils.radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);\n    } else if (cameraDef.type === 'orthographic') {\n      camera = new OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar);\n    }\n\n    if (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name);\n    assignExtrasToUserData(camera, cameraDef);\n    return Promise.resolve(camera);\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n   * @param {number} skinIndex\n   * @return {Promise<Object>}\n   */\n\n\n  loadSkin(skinIndex) {\n    const skinDef = this.json.skins[skinIndex];\n    const skinEntry = {\n      joints: skinDef.joints\n    };\n\n    if (skinDef.inverseBindMatrices === undefined) {\n      return Promise.resolve(skinEntry);\n    }\n\n    return this.getDependency('accessor', skinDef.inverseBindMatrices).then(function (accessor) {\n      skinEntry.inverseBindMatrices = accessor;\n      return skinEntry;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n   * @param {number} animationIndex\n   * @return {Promise<AnimationClip>}\n   */\n\n\n  loadAnimation(animationIndex) {\n    const json = this.json;\n    const animationDef = json.animations[animationIndex];\n    const pendingNodes = [];\n    const pendingInputAccessors = [];\n    const pendingOutputAccessors = [];\n    const pendingSamplers = [];\n    const pendingTargets = [];\n\n    for (let i = 0, il = animationDef.channels.length; i < il; i++) {\n      const channel = animationDef.channels[i];\n      const sampler = animationDef.samplers[channel.sampler];\n      const target = channel.target;\n      const name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\n      const input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;\n      const output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;\n      pendingNodes.push(this.getDependency('node', name));\n      pendingInputAccessors.push(this.getDependency('accessor', input));\n      pendingOutputAccessors.push(this.getDependency('accessor', output));\n      pendingSamplers.push(sampler);\n      pendingTargets.push(target);\n    }\n\n    return Promise.all([Promise.all(pendingNodes), Promise.all(pendingInputAccessors), Promise.all(pendingOutputAccessors), Promise.all(pendingSamplers), Promise.all(pendingTargets)]).then(function (dependencies) {\n      const nodes = dependencies[0];\n      const inputAccessors = dependencies[1];\n      const outputAccessors = dependencies[2];\n      const samplers = dependencies[3];\n      const targets = dependencies[4];\n      const tracks = [];\n\n      for (let i = 0, il = nodes.length; i < il; i++) {\n        const node = nodes[i];\n        const inputAccessor = inputAccessors[i];\n        const outputAccessor = outputAccessors[i];\n        const sampler = samplers[i];\n        const target = targets[i];\n        if (node === undefined) continue;\n        node.updateMatrix();\n        node.matrixAutoUpdate = true;\n        let TypedKeyframeTrack;\n\n        switch (PATH_PROPERTIES[target.path]) {\n          case PATH_PROPERTIES.weights:\n            TypedKeyframeTrack = NumberKeyframeTrack;\n            break;\n\n          case PATH_PROPERTIES.rotation:\n            TypedKeyframeTrack = QuaternionKeyframeTrack;\n            break;\n\n          case PATH_PROPERTIES.position:\n          case PATH_PROPERTIES.scale:\n          default:\n            TypedKeyframeTrack = VectorKeyframeTrack;\n            break;\n        }\n\n        const targetName = node.name ? node.name : node.uuid;\n        const interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : InterpolateLinear;\n        const targetNames = [];\n\n        if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n          // Node may be a Group (glTF mesh with several primitives) or a Mesh.\n          node.traverse(function (object) {\n            if (object.isMesh === true && object.morphTargetInfluences) {\n              targetNames.push(object.name ? object.name : object.uuid);\n            }\n          });\n        } else {\n          targetNames.push(targetName);\n        }\n\n        let outputArray = outputAccessor.array;\n\n        if (outputAccessor.normalized) {\n          const scale = getNormalizedComponentScale(outputArray.constructor);\n          const scaled = new Float32Array(outputArray.length);\n\n          for (let j = 0, jl = outputArray.length; j < jl; j++) {\n            scaled[j] = outputArray[j] * scale;\n          }\n\n          outputArray = scaled;\n        }\n\n        for (let j = 0, jl = targetNames.length; j < jl; j++) {\n          const track = new TypedKeyframeTrack(targetNames[j] + '.' + PATH_PROPERTIES[target.path], inputAccessor.array, outputArray, interpolation); // Override interpolation with custom factory method.\n\n          if (sampler.interpolation === 'CUBICSPLINE') {\n            track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n              // A CUBICSPLINE keyframe in glTF has three output values for each input value,\n              // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n              // must be divided by three to get the interpolant's sampleSize argument.\n              return new GLTFCubicSplineInterpolant(this.times, this.values, this.getValueSize() / 3, result);\n            }; // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\n\n            track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n          }\n\n          tracks.push(track);\n        }\n      }\n\n      const name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n      return new AnimationClip(name, undefined, tracks);\n    });\n  }\n\n  createNodeMesh(nodeIndex) {\n    const json = this.json;\n    const parser = this;\n    const nodeDef = json.nodes[nodeIndex];\n    if (nodeDef.mesh === undefined) return null;\n    return parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {\n      const node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh); // if weights are provided on the node, override weights on the mesh.\n\n\n      if (nodeDef.weights !== undefined) {\n        node.traverse(function (o) {\n          if (!o.isMesh) return;\n\n          for (let i = 0, il = nodeDef.weights.length; i < il; i++) {\n            o.morphTargetInfluences[i] = nodeDef.weights[i];\n          }\n        });\n      }\n\n      return node;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n   * @param {number} nodeIndex\n   * @return {Promise<Object3D>}\n   */\n\n\n  loadNode(nodeIndex) {\n    const json = this.json;\n    const extensions = this.extensions;\n    const parser = this;\n    const nodeDef = json.nodes[nodeIndex]; // reserve node's name before its dependencies, so the root has the intended name.\n\n    const nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : '';\n    return function () {\n      const pending = [];\n\n      const meshPromise = parser._invokeOne(function (ext) {\n        return ext.createNodeMesh && ext.createNodeMesh(nodeIndex);\n      });\n\n      if (meshPromise) {\n        pending.push(meshPromise);\n      }\n\n      if (nodeDef.camera !== undefined) {\n        pending.push(parser.getDependency('camera', nodeDef.camera).then(function (camera) {\n          return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera);\n        }));\n      }\n\n      parser._invokeAll(function (ext) {\n        return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex);\n      }).forEach(function (promise) {\n        pending.push(promise);\n      });\n\n      return Promise.all(pending);\n    }().then(function (objects) {\n      let node; // .isBone isn't in glTF spec. See ._markDefs\n\n      if (nodeDef.isBone === true) {\n        node = new Bone();\n      } else if (objects.length > 1) {\n        node = new Group();\n      } else if (objects.length === 1) {\n        node = objects[0];\n      } else {\n        node = new Object3D();\n      }\n\n      if (node !== objects[0]) {\n        for (let i = 0, il = objects.length; i < il; i++) {\n          node.add(objects[i]);\n        }\n      }\n\n      if (nodeDef.name) {\n        node.userData.name = nodeDef.name;\n        node.name = nodeName;\n      }\n\n      assignExtrasToUserData(node, nodeDef);\n      if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);\n\n      if (nodeDef.matrix !== undefined) {\n        const matrix = new Matrix4();\n        matrix.fromArray(nodeDef.matrix);\n        node.applyMatrix4(matrix);\n      } else {\n        if (nodeDef.translation !== undefined) {\n          node.position.fromArray(nodeDef.translation);\n        }\n\n        if (nodeDef.rotation !== undefined) {\n          node.quaternion.fromArray(nodeDef.rotation);\n        }\n\n        if (nodeDef.scale !== undefined) {\n          node.scale.fromArray(nodeDef.scale);\n        }\n      }\n\n      parser.associations.set(node, {\n        type: 'nodes',\n        index: nodeIndex\n      });\n      return node;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n   * @param {number} sceneIndex\n   * @return {Promise<Group>}\n   */\n\n\n  loadScene(sceneIndex) {\n    const json = this.json;\n    const extensions = this.extensions;\n    const sceneDef = this.json.scenes[sceneIndex];\n    const parser = this; // Loader returns Group, not Scene.\n    // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\n    const scene = new Group();\n    if (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name);\n    assignExtrasToUserData(scene, sceneDef);\n    if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);\n    const nodeIds = sceneDef.nodes || [];\n    const pending = [];\n\n    for (let i = 0, il = nodeIds.length; i < il; i++) {\n      pending.push(buildNodeHierachy(nodeIds[i], scene, json, parser));\n    }\n\n    return Promise.all(pending).then(function () {\n      return scene;\n    });\n  }\n\n}\n\nfunction buildNodeHierachy(nodeId, parentObject, json, parser) {\n  const nodeDef = json.nodes[nodeId];\n  return parser.getDependency('node', nodeId).then(function (node) {\n    if (nodeDef.skin === undefined) return node; // build skeleton here as well\n\n    let skinEntry;\n    return parser.getDependency('skin', nodeDef.skin).then(function (skin) {\n      skinEntry = skin;\n      const pendingJoints = [];\n\n      for (let i = 0, il = skinEntry.joints.length; i < il; i++) {\n        pendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));\n      }\n\n      return Promise.all(pendingJoints);\n    }).then(function (jointNodes) {\n      node.traverse(function (mesh) {\n        if (!mesh.isMesh) return;\n        const bones = [];\n        const boneInverses = [];\n\n        for (let j = 0, jl = jointNodes.length; j < jl; j++) {\n          const jointNode = jointNodes[j];\n\n          if (jointNode) {\n            bones.push(jointNode);\n            const mat = new Matrix4();\n\n            if (skinEntry.inverseBindMatrices !== undefined) {\n              mat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);\n            }\n\n            boneInverses.push(mat);\n          } else {\n            console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[j]);\n          }\n        }\n\n        mesh.bind(new Skeleton(bones, boneInverses), mesh.matrixWorld);\n      });\n      return node;\n    });\n  }).then(function (node) {\n    // build node hierachy\n    parentObject.add(node);\n    const pending = [];\n\n    if (nodeDef.children) {\n      const children = nodeDef.children;\n\n      for (let i = 0, il = children.length; i < il; i++) {\n        const child = children[i];\n        pending.push(buildNodeHierachy(child, node, json, parser));\n      }\n    }\n\n    return Promise.all(pending);\n  });\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\n\n\nfunction computeBounds(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes;\n  const box = new Box3();\n\n  if (attributes.POSITION !== undefined) {\n    const accessor = parser.json.accessors[attributes.POSITION];\n    const min = accessor.min;\n    const max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n    if (min !== undefined && max !== undefined) {\n      box.set(new Vector3(min[0], min[1], min[2]), new Vector3(max[0], max[1], max[2]));\n\n      if (accessor.normalized) {\n        const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\n        box.min.multiplyScalar(boxScale);\n        box.max.multiplyScalar(boxScale);\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n      return;\n    }\n  } else {\n    return;\n  }\n\n  const targets = primitiveDef.targets;\n\n  if (targets !== undefined) {\n    const maxDisplacement = new Vector3();\n    const vector = new Vector3();\n\n    for (let i = 0, il = targets.length; i < il; i++) {\n      const target = targets[i];\n\n      if (target.POSITION !== undefined) {\n        const accessor = parser.json.accessors[target.POSITION];\n        const min = accessor.min;\n        const max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n        if (min !== undefined && max !== undefined) {\n          // we need to get max of absolute components because target weight is [-1,1]\n          vector.setX(Math.max(Math.abs(min[0]), Math.abs(max[0])));\n          vector.setY(Math.max(Math.abs(min[1]), Math.abs(max[1])));\n          vector.setZ(Math.max(Math.abs(min[2]), Math.abs(max[2])));\n\n          if (accessor.normalized) {\n            const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\n            vector.multiplyScalar(boxScale);\n          } // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n          // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n          // are used to implement key-frame animations and as such only two are active at a time - this results in very large\n          // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\n\n          maxDisplacement.max(vector);\n        } else {\n          console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n        }\n      }\n    } // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\n\n    box.expandByVector(maxDisplacement);\n  }\n\n  geometry.boundingBox = box;\n  const sphere = new Sphere();\n  box.getCenter(sphere.center);\n  sphere.radius = box.min.distanceTo(box.max) / 2;\n  geometry.boundingSphere = sphere;\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\n\n\nfunction addPrimitiveAttributes(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes;\n  const pending = [];\n\n  function assignAttributeAccessor(accessorIndex, attributeName) {\n    return parser.getDependency('accessor', accessorIndex).then(function (accessor) {\n      geometry.setAttribute(attributeName, accessor);\n    });\n  }\n\n  for (const gltfAttributeName in attributes) {\n    const threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase(); // Skip attributes already provided by e.g. Draco extension.\n\n    if (threeAttributeName in geometry.attributes) continue;\n    pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));\n  }\n\n  if (primitiveDef.indices !== undefined && !geometry.index) {\n    const accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {\n      geometry.setIndex(accessor);\n    });\n    pending.push(accessor);\n  }\n\n  assignExtrasToUserData(geometry, primitiveDef);\n  computeBounds(geometry, primitiveDef, parser);\n  return Promise.all(pending).then(function () {\n    return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry;\n  });\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\n\n\nfunction toTrianglesDrawMode(geometry, drawMode) {\n  let index = geometry.getIndex(); // generate index if not present\n\n  if (index === null) {\n    const indices = [];\n    const position = geometry.getAttribute('position');\n\n    if (position !== undefined) {\n      for (let i = 0; i < position.count; i++) {\n        indices.push(i);\n      }\n\n      geometry.setIndex(indices);\n      index = geometry.getIndex();\n    } else {\n      console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.');\n      return geometry;\n    }\n  } //\n\n\n  const numberOfTriangles = index.count - 2;\n  const newIndices = [];\n\n  if (drawMode === TriangleFanDrawMode) {\n    // gl.TRIANGLE_FAN\n    for (let i = 1; i <= numberOfTriangles; i++) {\n      newIndices.push(index.getX(0));\n      newIndices.push(index.getX(i));\n      newIndices.push(index.getX(i + 1));\n    }\n  } else {\n    // gl.TRIANGLE_STRIP\n    for (let i = 0; i < numberOfTriangles; i++) {\n      if (i % 2 === 0) {\n        newIndices.push(index.getX(i));\n        newIndices.push(index.getX(i + 1));\n        newIndices.push(index.getX(i + 2));\n      } else {\n        newIndices.push(index.getX(i + 2));\n        newIndices.push(index.getX(i + 1));\n        newIndices.push(index.getX(i));\n      }\n    }\n  }\n\n  if (newIndices.length / 3 !== numberOfTriangles) {\n    console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.');\n  } // build final geometry\n\n\n  const newGeometry = geometry.clone();\n  newGeometry.setIndex(newIndices);\n  return newGeometry;\n}\n\nexport { GLTFLoader };\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getStringValidator, getNumberOrAutoValidator, getBooleanValidator, } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport function stringToArray(string) {\n    return Array.from(string);\n}\nvar AUTO = 'auto', CENTER = 'center', JUSTIFY = 'justify', CHANGE_KONVA = 'Change.konva', CONTEXT_2D = '2d', DASH = '-', LEFT = 'left', TEXT = 'text', TEXT_UPPER = 'Text', TOP = 'top', BOTTOM = 'bottom', MIDDLE = 'middle', NORMAL = 'normal', PX_SPACE = 'px ', SPACE = ' ', RIGHT = 'right', WORD = 'word', CHAR = 'char', NONE = 'none', ELLIPSIS = '…', ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'fontVariant',\n    'padding',\n    'align',\n    'verticalAlign',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'wrap',\n    'ellipsis',\n    'letterSpacing',\n], attrChangeListLen = ATTR_CHANGE_LIST.length;\nfunction normalizeFontFamily(fontFamily) {\n    return fontFamily\n        .split(',')\n        .map((family) => {\n        family = family.trim();\n        const hasSpace = family.indexOf(' ') >= 0;\n        const hasQuotes = family.indexOf('\"') >= 0 || family.indexOf(\"'\") >= 0;\n        if (hasSpace && !hasQuotes) {\n            family = `\"${family}\"`;\n        }\n        return family;\n    })\n        .join(', ');\n}\nvar dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util.createCanvasElement().getContext(CONTEXT_2D);\n    return dummyContext;\n}\nfunction _fillFunc(context) {\n    context.fillText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction _strokeFunc(context) {\n    context.strokeText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction checkDefaultFill(config) {\n    config = config || {};\n    if (!config.fillLinearGradientColorStops &&\n        !config.fillRadialGradientColorStops &&\n        !config.fillPatternImage) {\n        config.fill = config.fill || 'black';\n    }\n    return config;\n}\nexport class Text extends Shape {\n    constructor(config) {\n        super(checkDefaultFill(config));\n        this._partialTextX = 0;\n        this._partialTextY = 0;\n        for (var n = 0; n < attrChangeListLen; n++) {\n            this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, this._setTextData);\n        }\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        var textArr = this.textArr, textArrLen = textArr.length;\n        if (!this.text()) {\n            return;\n        }\n        var padding = this.padding(), fontSize = this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, verticalAlign = this.verticalAlign(), alignY = 0, align = this.align(), totalWidth = this.getWidth(), letterSpacing = this.letterSpacing(), fill = this.fill(), textDecoration = this.textDecoration(), shouldUnderline = textDecoration.indexOf('underline') !== -1, shouldLineThrough = textDecoration.indexOf('line-through') !== -1, n;\n        var translateY = 0;\n        var translateY = lineHeightPx / 2;\n        var lineTranslateX = 0;\n        var lineTranslateY = 0;\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', MIDDLE);\n        context.setAttr('textAlign', LEFT);\n        if (verticalAlign === MIDDLE) {\n            alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\n        }\n        else if (verticalAlign === BOTTOM) {\n            alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;\n        }\n        context.translate(padding, alignY + padding);\n        for (n = 0; n < textArrLen; n++) {\n            var lineTranslateX = 0;\n            var lineTranslateY = 0;\n            var obj = textArr[n], text = obj.text, width = obj.width, lastLine = n !== textArrLen - 1, spacesNumber, oneWord, lineWidth;\n            context.save();\n            if (align === RIGHT) {\n                lineTranslateX += totalWidth - width - padding * 2;\n            }\n            else if (align === CENTER) {\n                lineTranslateX += (totalWidth - width - padding * 2) / 2;\n            }\n            if (shouldUnderline) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY + Math.round(fontSize / 2));\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + Math.round(fontSize / 2));\n                context.lineWidth = fontSize / 15;\n                context.strokeStyle = fill;\n                context.stroke();\n                context.restore();\n            }\n            if (shouldLineThrough) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY);\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY);\n                context.lineWidth = fontSize / 15;\n                context.strokeStyle = fill;\n                context.stroke();\n                context.restore();\n            }\n            if (letterSpacing !== 0 || align === JUSTIFY) {\n                spacesNumber = text.split(' ').length - 1;\n                var array = stringToArray(text);\n                for (var li = 0; li < array.length; li++) {\n                    var letter = array[li];\n                    if (letter === ' ' && n !== textArrLen - 1 && align === JUSTIFY) {\n                        lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\n                    }\n                    this._partialTextX = lineTranslateX;\n                    this._partialTextY = translateY + lineTranslateY;\n                    this._partialText = letter;\n                    context.fillStrokeShape(this);\n                    lineTranslateX += this.measureSize(letter).width + letterSpacing;\n                }\n            }\n            else {\n                this._partialTextX = lineTranslateX;\n                this._partialTextY = translateY + lineTranslateY;\n                this._partialText = text;\n                context.fillStrokeShape(this);\n            }\n            context.restore();\n            if (textArrLen > 1) {\n                translateY += lineHeightPx;\n            }\n        }\n    }\n    _hitFunc(context) {\n        var width = this.getWidth(), height = this.getHeight();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    setText(text) {\n        var str = Util._isString(text)\n            ? text\n            : text === null || text === undefined\n                ? ''\n                : text + '';\n        this._setAttr(TEXT, str);\n        return this;\n    }\n    getWidth() {\n        var isAuto = this.attrs.width === AUTO || this.attrs.width === undefined;\n        return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;\n    }\n    getHeight() {\n        var isAuto = this.attrs.height === AUTO || this.attrs.height === undefined;\n        return isAuto\n            ? this.fontSize() * this.textArr.length * this.lineHeight() +\n                this.padding() * 2\n            : this.attrs.height;\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    measureSize(text) {\n        var _context = getDummyContext(), fontSize = this.fontSize(), metrics;\n        _context.save();\n        _context.font = this._getContextFont();\n        metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: fontSize,\n        };\n    }\n    _getContextFont() {\n        return (this.fontStyle() +\n            SPACE +\n            this.fontVariant() +\n            SPACE +\n            (this.fontSize() + PX_SPACE) +\n            normalizeFontFamily(this.fontFamily()));\n    }\n    _addTextLine(line) {\n        if (this.align() === JUSTIFY) {\n            line = line.trim();\n        }\n        var width = this._getTextWidth(line);\n        return this.textArr.push({ text: line, width: width });\n    }\n    _getTextWidth(text) {\n        var letterSpacing = this.letterSpacing();\n        var length = text.length;\n        return (getDummyContext().measureText(text).width +\n            (length ? letterSpacing * (length - 1) : 0));\n    }\n    _setTextData() {\n        var lines = this.text().split('\\n'), fontSize = +this.fontSize(), textWidth = 0, lineHeightPx = this.lineHeight() * fontSize, width = this.attrs.width, height = this.attrs.height, fixedWidth = width !== AUTO && width !== undefined, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxWidth = width - padding * 2, maxHeightPx = height - padding * 2, currentHeightPx = 0, wrap = this.wrap(), shouldWrap = wrap !== NONE, wrapAtWord = wrap !== CHAR && shouldWrap, shouldAddEllipsis = this.ellipsis();\n        this.textArr = [];\n        getDummyContext().font = this._getContextFont();\n        var additionalWidth = shouldAddEllipsis ? this._getTextWidth(ELLIPSIS) : 0;\n        for (var i = 0, max = lines.length; i < max; ++i) {\n            var line = lines[i];\n            var lineWidth = this._getTextWidth(line);\n            if (fixedWidth && lineWidth > maxWidth) {\n                while (line.length > 0) {\n                    var low = 0, high = line.length, match = '', matchWidth = 0;\n                    while (low < high) {\n                        var mid = (low + high) >>> 1, substr = line.slice(0, mid + 1), substrWidth = this._getTextWidth(substr) + additionalWidth;\n                        if (substrWidth <= maxWidth) {\n                            low = mid + 1;\n                            match = substr;\n                            matchWidth = substrWidth;\n                        }\n                        else {\n                            high = mid;\n                        }\n                    }\n                    if (match) {\n                        if (wrapAtWord) {\n                            var wrapIndex;\n                            var nextChar = line[match.length];\n                            var nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;\n                            if (nextIsSpaceOrDash && matchWidth <= maxWidth) {\n                                wrapIndex = match.length;\n                            }\n                            else {\n                                wrapIndex =\n                                    Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) +\n                                        1;\n                            }\n                            if (wrapIndex > 0) {\n                                low = wrapIndex;\n                                match = match.slice(0, low);\n                                matchWidth = this._getTextWidth(match);\n                            }\n                        }\n                        match = match.trimRight();\n                        this._addTextLine(match);\n                        textWidth = Math.max(textWidth, matchWidth);\n                        currentHeightPx += lineHeightPx;\n                        if (!shouldWrap ||\n                            (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx)) {\n                            var lastLine = this.textArr[this.textArr.length - 1];\n                            if (lastLine) {\n                                if (shouldAddEllipsis) {\n                                    var haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;\n                                    if (!haveSpace) {\n                                        lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);\n                                    }\n                                    this.textArr.splice(this.textArr.length - 1, 1);\n                                    this._addTextLine(lastLine.text + ELLIPSIS);\n                                }\n                            }\n                            break;\n                        }\n                        line = line.slice(low);\n                        line = line.trimLeft();\n                        if (line.length > 0) {\n                            lineWidth = this._getTextWidth(line);\n                            if (lineWidth <= maxWidth) {\n                                this._addTextLine(line);\n                                currentHeightPx += lineHeightPx;\n                                textWidth = Math.max(textWidth, lineWidth);\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                this._addTextLine(line);\n                currentHeightPx += lineHeightPx;\n                textWidth = Math.max(textWidth, lineWidth);\n            }\n            if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n                break;\n            }\n        }\n        this.textHeight = fontSize;\n        this.textWidth = textWidth;\n    }\n    getStrokeScaleEnabled() {\n        return true;\n    }\n}\nText.prototype._fillFunc = _fillFunc;\nText.prototype._strokeFunc = _strokeFunc;\nText.prototype.className = TEXT_UPPER;\nText.prototype._attrsAffectingSize = [\n    'text',\n    'fontSize',\n    'padding',\n    'wrap',\n    'lineHeight',\n    'letterSpacing',\n];\n_registerNode(Text);\nFactory.overWriteSetter(Text, 'width', getNumberOrAutoValidator());\nFactory.overWriteSetter(Text, 'height', getNumberOrAutoValidator());\nFactory.addGetterSetter(Text, 'fontFamily', 'Arial');\nFactory.addGetterSetter(Text, 'fontSize', 12, getNumberValidator());\nFactory.addGetterSetter(Text, 'fontStyle', NORMAL);\nFactory.addGetterSetter(Text, 'fontVariant', NORMAL);\nFactory.addGetterSetter(Text, 'padding', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'align', LEFT);\nFactory.addGetterSetter(Text, 'verticalAlign', TOP);\nFactory.addGetterSetter(Text, 'lineHeight', 1, getNumberValidator());\nFactory.addGetterSetter(Text, 'wrap', WORD);\nFactory.addGetterSetter(Text, 'ellipsis', false, getBooleanValidator());\nFactory.addGetterSetter(Text, 'letterSpacing', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'text', '', getStringValidator());\nFactory.addGetterSetter(Text, 'textDecoration', '');\n"],"names":["exports","_svgPathExp","_numbersExp","_scientific","_selectorExp","_DEG2RAD","Math","PI","_RAD2DEG","_sin","sin","_cos","cos","_abs","abs","_sqrt","sqrt","_atan2","atan2","_largeNum","_isString","value","_isNumber","_temp","_temp2","_roundingNum","_wrapProgress","progress","round","_round","_roundPrecise","_splitSegment","rawPath","segIndex","i","t","segment","shift","subdivideSegment","length","splice","slice","_getSampleIndex","samples","l","_copyMetaData","source","copy","totalLength","lookup","minLength","resolution","totalPoints","_appendOrMerge","index","prevSeg","concat","getRawPath","e","test","document","querySelector","getAttribute","_gsPath","_dirty","stringToRawPath","console","warn","reverseSegment","y","reverse","reversed","_typeAttrs","rect","circle","ellipse","line","convertToPath","element","swap","data","x","r","ry","path","rcirc","rycirc","points","w","h","x2","x3","x4","x5","x6","y2","y3","y4","y5","y6","attr","type","tagName","toLowerCase","circ","getBBox","ignore","name","createElementNS","call","attributes","nodeName","indexOf","setAttributeNS","nodeValue","_createPath","attrs","props","split","obj","_attrToObj","rx","width","height","join","cx","cy","x1","y1","match","setAttribute","rawPathToString","_gsRawPath","parentNode","insertBefore","removeChild","getRotationAtBezierT","a","b","c","sliceRawPath","start","end","loops","max","copyRawPath","skipOuter","_reverseRawPath","offset","min","cacheRawPathMeasurements","wrapsBehind","sShift","eShift","totalSegments","j","wrap","s","getProgressData","eSeg","sSeg","eSegIndex","sSegIndex","ei","si","sameSegment","sameBezier","angle","push","measureSegment","startIndex","bezierQty","xd","xd1","yd","yd1","inv","lengthIndex","segLength","inc","endIndex","samplesIndex","prevLength","pathLength","ax","ay","cp1x","cp1y","cp2x","cp2y","x1a","y1a","x2a","y2a","decoratee","pushToNextIfAtEnd","getPositionOnPath","includeAngle","point","result","transformRawPath","d","tx","ty","arcToSegment","lastX","lastY","largeArcFlag","sweepFlag","angleRad","cosAngle","sinAngle","TWOPI","dx2","dy2","x1_sq","y1_sq","radiiCheck","rx_sq","ry_sq","sq","coef","cx1","cy1","ux","uy","vx","vy","temp","angleStart","acos","angleExtent","isNaN","segments","ceil","angleIncrement","controlLength","ma","mb","mc","md","command","isRelative","startX","startY","difX","difY","beziers","prevCommand","flag1","flag2","replace","m","n","relativeX","relativeY","twoThirds","elements","errorMessage","sx","sy","ex","ey","log","toUpperCase","closed","substr","charAt","pop","flatPointsToSegment","curviness","pointsToSegment","cornerThreshold","prevX","prevY","slope","dx1","dx3","dy1","dy3","d1","d2","nextX","nextY","unshift","sl","_doc","_win","_docElement","_body","_divContainer","_svgContainer","_identityMatrix","_gEl","_hasOffsetBug","_transformProp","_transformOriginProp","_setDoc","doc","ownerDocument","style","window","Matrix2D","documentElement","body","transform","createElement","appendChild","position","offsetParent","_svgTemps","_divTemps","_svgOwner","ownerSVGElement","_isFixed","getComputedStyle","nodeType","_createSibling","svg","ns","css","cssText","_placeSiblings","adjustGOffset","container","cs","isRootSVG","siblings","parent","getCTM","removeProperty","_getCTM","f","baseVal","numberOfItems","multiply","getItem","matrix","_consolidate","offsetLeft","offsetTop","scrollLeft","scrollTop","top","left","_setMatrix","this","_proto","prototype","inverse","determinant","a2","b2","c2","e2","f2","clone","equals","apply","getGlobalMatrix","includeScrollInFixed","zeroScales","cache","_gsap","uncache","get","scaleX","scaleY","renderTransform","_forceNonZeroScale","temps","b1","getBoundingClientRect","b3","isFixed","pageXOffset","pageYOffset","gsap","PropTween","_getUnit","_toArray","_xProps","_yProps","_DEG2RAD$1","_populateSegmentFromArray","values","property","mode","parseFloat","_getPropNum","target","prop","unit","_relativize","_segmentToRawPath","plugin","slicer","vars","unitX","unitY","fromCurrent","relative","_align","_addDimensionalPropTween","_emptyFunc","v","_numExp","_originToPoint","origin","parentMatrix","viewBox","offsetWidth","offsetHeight","_getAlignMatrix","fromElement","toElement","fromOrigin","toOrigin","p","fromPoint","_originToPoint2","getTotalLength","_ref","alignTarget","align","offsetX","offsetY","alignOrigin","curX","curY","set","transformOrigin","pathProperty","forceUnit","harness","alias","aliases","pt","_pt","u","pp","_props","MotionPathPlugin","version","register","core","Plugin","propTween","utils","getUnit","toArray","init","rawPaths","_vars","autoRotate","firstObj","rotate","rOffset","radians","useRadians","rProp","rotation","rSet","ru","Array","isArray","render","ratio","_next","getLength","targets","map","convertCoordinates","getAlignMatrix","getRelativePosition","arrayToRawPath","registerPlugin","default","Object","defineProperty","factory","_defineProperty","key","enumerable","configurable","writable","moduloWrapAround","capacity","OrbitControls","EventDispatcher","constructor","object","domElement","super","Vector3","Infinity","LEFT","UP","RIGHT","BOTTOM","MOUSE","MIDDLE","ONE","TOUCH","TWO","target0","position0","zoom0","PerspectiveCamera","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","setPolarAngle","currentPhi","phiDist","sphericalDelta","scope","update","setAzimuthalAngle","currentTheta","thetaDist","listenToKeyEvents","addEventListener","onKeyDown","_domElementKeyEvents","saveState","reset","updateProjectionMatrix","dispatchEvent","changeEvent","state","STATE","NONE","quat","Quaternion","setFromUnitVectors","up","quatInverse","invert","lastPosition","lastQuaternion","twoPI","sub","applyQuaternion","setFromVector3","rotateLeft","autoRotateSpeed","enableDamping","dampingFactor","minAzimuthAngle","maxAzimuthAngle","isFinite","minPolarAngle","maxPolarAngle","makeSafe","radius","scale","minDistance","maxDistance","addScaledVector","panOffset","add","setFromSpherical","lookAt","multiplyScalar","zoomChanged","distanceToSquared","EPS","dot","quaternion","connect","error","touchAction","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","dispose","_scope$domElement","_scope$domElement2","_scope$domElement3","_scope$domElement4","_scope$domElement5","_scope$domElement6","removeEventListener","onPointerMove","onPointerUp","startEvent","endEvent","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","pow","zoomSpeed","rotateUp","panLeft","distance","objectMatrix","setFromMatrixColumn","panUp","screenSpacePanning","crossVectors","pan","deltaX","deltaY","isPerspectiveCamera","targetDistance","tan","fov","clientHeight","OrthographicCamera","isOrthographicCamera","right","clientWidth","bottom","enablePan","dollyOut","dollyScale","minZoom","maxZoom","enableZoom","dollyIn","handleMouseDownRotate","event","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","dx","dy","handleTouchMoveRotate","getSecondPointerPosition","subVectors","rotateSpeed","handleTouchMovePan","panSpeed","handleTouchMoveDolly","_scope$domElement7","_scope$domElement8","enabled","addPointer","pointerType","trackPointer","touches","enableRotate","onTouchStart","mouseAction","button","mouseButtons","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","onTouchMove","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","_scope$domElement9","_scope$domElement10","removePointer","preventDefault","handleMouseWheel","needsUpdate","code","keys","keyPanSpeed","handleKeyDown","pointerId","undefined","pointer","OutlineEffect","renderer","parameters","defaultThickness","defaultColor","Color","fromArray","defaultAlpha","defaultKeepAlive","originalMaterials","originalOnBeforeRenders","uniformsOutline","outlineThickness","outlineColor","outlineAlpha","vertexShader","fragmentShader","getOutlineMaterial","originalMaterial","outlineMaterial","uuid","material","ShaderMaterial","uniforms","UniformsUtils","UniformsLib","side","BackSide","used","keepAlive","count","getOutlineMaterialFromCache","outlineParameters","userData","skinning","morphTargets","morphNormals","fog","toneMapped","premultipliedAlpha","displacementMap","visible","transparent","alpha","wireframe","depthTest","clippingPlanes","clipping","clipIntersection","clipShadows","updateOutlineMaterial","isCompatible","geometry","hasNormals","isBufferGeometry","normal","isMesh","setOutlineMaterial","il","onBeforeRender","restoreOriginalMaterial","scene","camera","opacity","thickness","color","displacementScale","displacementBias","updateUniforms","renderTarget","forceClear","arguments","setRenderTarget","clear","currentAutoClear","autoClear","renderOutline","currentSceneAutoUpdate","autoUpdate","currentSceneBackground","background","currentShadowMapEnabled","shadowMap","traverse","cleanupCache","depth","stencil","getPixelRatio","setPixelRatio","getSize","setSize","updateStyle","setViewport","setScissor","setScissorTest","boolean","GLTFLoader","Loader","manager","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","parser","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsTransmissionExtension","GLTFMaterialsVolumeExtension","GLTFMaterialsIorExtension","GLTFMaterialsSpecularExtension","GLTFLightsExtension","GLTFMeshoptCompression","load","url","onLoad","onProgress","onError","resourcePath","LoaderUtils","itemStart","_onError","itemError","itemEnd","loader","FileLoader","setPath","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","parse","gltf","setDRACOLoader","setDDSLoader","Error","setKTX2Loader","setMeshoptDecoder","callback","unregister","content","extensions","plugins","Uint8Array","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","json","JSON","asset","GLTFParser","crossOrigin","fileLoader","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","GLTFRegistry","objects","remove","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_IOR","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","refs","uses","_markDefs","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","light","_addNodeRef","_loadLight","lightIndex","cacheKey","dependency","lightDef","lights","lightNode","range","DirectionalLight","PointLight","SpotLight","spot","innerConeAngle","outerConeAngle","penumbra","decay","intensity","createUniqueName","Promise","resolve","createNodeAttachment","self","then","_getNodeRef","getMaterialType","MeshBasicMaterial","extendParams","materialParams","materialDef","pending","metallicRoughness","pbrMetallicRoughness","baseColorFactor","array","baseColorTexture","assignTexture","all","materialIndex","materials","MeshPhysicalMaterial","extendMaterialParams","extension","clearcoatFactor","clearcoat","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughness","clearcoatRoughnessTexture","clearcoatNormalTexture","clearcoatNormalScale","transmissionFactor","transmission","transmissionTexture","thicknessFactor","thicknessTexture","attenuationDistance","colorArray","attenuationColor","attenuationTint","ior","specularIntensity","specularFactor","specularTexture","specularColorFactor","specularTint","specularColorTexture","texture","encoding","sRGBEncoding","loadTexture","textureIndex","textureDef","textures","images","options","loadTextureImage","isSupported","textureLoader","uri","handler","getHandler","detectSupport","image","Image","src","onload","onerror","loadBufferView","bufferView","bufferViews","extensionDef","buffer","getDependency","decoder","supported","ready","res","byteOffset","byteLength","stride","byteStride","ArrayBuffer","decodeGltfBuffer","filter","headerView","DataView","header","magic","getUint32","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","decodePrimitive","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","normalized","decodeDracoFile","attribute","extendTexture","texCoord","repeat","GLTFMeshStandardSGMaterial","MeshStandardMaterial","params","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","specular","setHex","glossiness","specularMap","glossinessMap","_extraUniforms","onBeforeCompile","shader","uniformName","defineProperties","defines","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","metalness","roughness","metalnessMap","roughnessMap","setValues","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","emissive","glossinessFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","TangentSpaceNormalMap","normalScale","alphaMap","envMap","envMapIntensity","refractionRatio","GLTFCubicSplineInterpolant","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","copySampleValue_","valueSize","beforeStart_","afterEnd_","interpolate_","i1","t0","t1","stride2","stride3","td","ppp","offset1","offset0","s2","s3","s0","s1","p0","m0","p1","m1","Int8Array","Int16Array","Uint16Array","Uint32Array","Float32Array","WEBGL_FILTERS","NearestFilter","LinearFilter","NearestMipmapNearestFilter","LinearMipmapNearestFilter","NearestMipmapLinearFilter","LinearMipmapLinearFilter","WEBGL_WRAPPINGS","ClampToEdgeWrapping","MirroredRepeatWrapping","RepeatWrapping","WEBGL_TYPE_SIZES","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","LINEAR","InterpolateLinear","STEP","InterpolateDiscrete","resolveURL","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","assign","updateMorphTargets","mesh","meshDef","morphTargetInfluences","targetNames","morphTargetDictionary","createPrimitiveKey","primitiveDef","dracoExtension","geometryKey","indices","createAttributesKey","attributesKey","sort","getNormalizedComponentScale","associations","Map","primitiveCache","meshCache","cameraCache","lightCache","textureCache","nodeNamesUsed","createImageBitmap","navigator","userAgent","ImageBitmapLoader","TextureLoader","setCrossOrigin","_invokeAll","ext","beforeRoot","getDependencies","dependencies","scenes","animations","cameras","afterRoot","catch","skinDefs","skins","meshDefs","meshes","skinIndex","skinLength","joints","isBone","skin","isSkinnedMesh","ref","_invokeOne","func","loadScene","loadNode","loadMesh","loadAccessor","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","buffers","reject","bufferViewDef","accessorIndex","sparse","pendingBufferViews","itemSize","TypedArray","elementBytes","BYTES_PER_ELEMENT","itemBytes","bufferAttribute","ibSlice","floor","ibCacheKey","ib","InterleavedBuffer","InterleavedBufferAttribute","BufferAttribute","itemSizeIndices","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setX","setY","setZ","setW","sampler","URL","webkitURL","sourceURI","isObjectURL","hasAlpha","isJPEG","search","mimeType","colorType","getUint8","blob","Blob","createObjectURL","promise","isImageBitmapLoader","imageBitmap","Texture","revokeObjectURL","flipY","format","RGBFormat","samplers","magFilter","minFilter","wrapS","wrapT","mapName","mapDef","gltfReference","assignFinalMaterial","useVertexTangents","tangent","useVertexColors","useFlatShading","isPoints","pointsMaterial","PointsMaterial","Material","sizeAttenuation","isLine","lineMaterial","LineBasicMaterial","cachedMaterial","vertexColors","flatShading","uv2","uv","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","doubleSided","DoubleSide","alphaMode","depthWrite","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","originalName","sanitizedName","PropertyBinding","loadGeometries","primitives","createDracoPrimitive","addPrimitiveAttributes","cached","geometryPromise","BufferGeometry","meshIndex","FrontSide","results","geometries","SkinnedMesh","Mesh","skinWeight","normalizeSkinWeights","toTrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LineSegments","Line","LineLoop","Points","morphAttributes","group","Group","cameraIndex","cameraDef","MathUtils","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","accessor","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","channel","node","id","input","output","inputAccessors","outputAccessors","tracks","inputAccessor","outputAccessor","TypedKeyframeTrack","updateMatrix","matrixAutoUpdate","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","targetName","interpolation","outputArray","scaled","jl","track","createInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","AnimationClip","createNodeMesh","o","meshPromise","forEach","Bone","Object3D","Matrix4","applyMatrix4","sceneIndex","sceneDef","nodeIds","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","mat","bind","Skeleton","matrixWorld","children","child","assignAttributeAccessor","gltfAttributeName","setIndex","box","Box3","boxScale","maxDisplacement","vector","expandByVector","boundingBox","sphere","Sphere","getCenter","center","distanceTo","boundingSphere","computeBounds","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","morphPositions","morphTargetsRelative","addMorphTargets","drawMode","getIndex","numberOfTriangles","newIndices","getX","newGeometry","dummyContext","AUTO","JUSTIFY","SPACE","ATTR_CHANGE_LIST","attrChangeListLen","getDummyContext","getContext","Text","config","fillLinearGradientColorStops","fillRadialGradientColorStops","fillPatternImage","fill","checkDefaultFill","_partialTextX","_partialTextY","on","_setTextData","_sceneFunc","context","textArr","textArrLen","text","string","padding","fontSize","lineHeightPx","lineHeight","verticalAlign","alignY","totalWidth","getWidth","letterSpacing","textDecoration","shouldUnderline","shouldLineThrough","translateY","lineTranslateX","lineTranslateY","setAttr","_getContextFont","getHeight","translate","spacesNumber","oneWord","lineWidth","lastLine","save","beginPath","moveTo","lineTo","strokeStyle","stroke","restore","from","li","letter","_partialText","fillStrokeShape","measureSize","_hitFunc","closePath","setText","str","_setAttr","getTextWidth","textWidth","getTextHeight","textHeight","metrics","_context","font","measureText","fontStyle","fontVariant","fontFamily","family","hasSpace","trim","hasQuotes","_addTextLine","_getTextWidth","lines","fixedWidth","fixedHeight","maxWidth","maxHeightPx","currentHeightPx","shouldWrap","wrapAtWord","shouldAddEllipsis","ellipsis","additionalWidth","low","high","matchWidth","mid","substrWidth","wrapIndex","nextChar","lastIndexOf","trimRight","trimLeft","getStrokeScaleEnabled","_fillFunc","fillText","_strokeFunc","strokeText","className","_attrsAffectingSize","F"],"sourceRoot":""}