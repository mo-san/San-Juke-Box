# San-Juke Box (サン・ジューク・ボックス)

これは、ジュークボックスを模した音楽プレーヤーもどきです。

最初にキャラクターと曲を選びます。曲を選ぶとレコード盤が現れます。再生を始めると、ステージに画面が移ります。3D空間で踊るMMDモデルに向かって、手やマウスでペンライトを振って応援することができます。

カメラを使って自分の手でライトを振ることで、非接触でもコンサートの臨場感を味わえる…はずでしたが、この機能は現在Chromeでは動きません。Firefoxでのみ動作を確認しております。

多言語対応に力を入れました。単にメッセージが外国語になるのは当然として、画面左手には、歌詞のふりがなが表示されます。一般に歌詞では特殊な読み方をするものもあるので（今回の入賞曲でもいくつか見られます）、日本語学習者にはあるとうれしい機能だと思います。

## ビルド

ビルドするには、

```
npm install
npm run prebuild
npm run build
``` 

とするのですが、一つ注意点がございます。このコードでは、Typescriptの型定義を使うために、node_modules内のライブラリを一部書き換える処理を行っています。

2行目がそれで、'textalive-app-api.d.ts' 内の 'Char' クラスを公開するように書き換えます。 つまり、

`--- declare class Char extends TextUnit implements IChar {` を

`+++ export declare class Char extends TextUnit implements IChar {` にします。

もし prebuild のスクリプトがうまく動かない場合は、どうか手動で編集していただくようお願い申し上げます。

ビルド後の成果物は、`dist_webpack` ディレクトリに作られます。
